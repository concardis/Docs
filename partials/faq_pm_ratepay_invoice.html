<br/>
<div>
	<h2>Overview</h2>
	<br/>
	<p>
		RatePAY Invoice payment method enables end-customers to receive goods/services from merchants with open invoice at zero risk for the merchants. RatePAY assumes the risk in cases of payment default.
	</p>
	<br/>
	<br/>
	<h2>CUSTOMER EXPERIENCE</h2>
	<br/>
	<p>
		In the Payengine Modal Widget the selection of the payment method could look as per following screens.
	</p>
	<br/>
	<table border="1" width="60%">
		<thead>
			<th>Step</th>
			<th>Description</th>
			<th >Screenshot</th>
		</thead>
		<tr>
			<td>
				1
			</td>
			<td>
				Select Rechnung
				<br/>
				(RatePAY Invoice)
			</td>
			<td>
				<img class="" src="/img/faq/ratepay_inv/ratepay_inv_1.png" width="100%" />
			</td>
		</tr>
		<tr>
			<td>
				2
			</td>
			<td>
				Notification in Success scenario
			</td>
			<td>
				<img class="" src="/img/faq/ratepay_inv/ratepay_inv_2.png" width="100%" />
			</td>
		</tr>
	</table>
	<br/>
	<br/>

	<h2>Payengine Details</h2>
	<br/>
	<div>
		<div class="content-box-wrapper">
			<div class="pricing-box-alt row clearfix">
				<div class="col-md-3 plans-features">
					<ul>
						<li class="header ms-hover"><strong>General</strong></li>
						<li class="ms-hover">Payengine Product</li>
						<li class="ms-hover">Payment Options (for Customer)</li>
						<li class="ms-hover">Channels</li>
						<li class="ms-hover">Currencies</li>
						<li class="ms-hover">Countries</li>
						<li class="ms-hover">Technical Flow</li>
						<li class="ms-hover">Recurring</li>
						<li class="ms-hover">Chargebacks</li>
						<li class="ms-hover">Reusable Payment Instrument</li>
						<li class="ms-hover">B2B applicable</li>
					</ul>
				</div>
				<div class="individual-plan">
					<ul>
						<li class="header ms-hover"></li>
						<li class="ms-hover">ratepay-invoice</li>
						<li class="ms-hover">Invoice - Payable within 14 days</li>
						<li class="ms-hover">ECOM & MOTO</li>
						<li class="ms-hover">EUR</li>
						<li class="ms-hover">DE, AT, CH, NL</li>
						<li class="ms-hover">Synchronous</li>
						<li class="ms-hover">No</li>
						<li class="ms-hover">No</li>
						<li class="ms-hover">No</li>
						<li class="ms-hover">Yes</li>
					</ul>
				</div>
			</div>
		</div>
		<br/>
		<br/>
		<div class="content-box-wrapper">
			<div class="pricing-box-alt row clearfix">
				<div class="col-md-3 plans-features">
					<ul>
						<li class="header ms-hover"><strong>Supported Features</strong></li>
						<li class="header ms-hover"><strong>& Services</strong></li>
						<li class="ms-hover">Debit</li>
						<li class="ms-hover">Preauthorization</li>
						<li class="ms-hover">Cancelation</li>
						<li class="ms-hover">Capture</li>
						<li class="ms-hover">Refunds</li>
						<li class="ms-hover">Notifications</li>
						<li class="ms-hover">PayLink Integration</li>
						<li class="ms-hover">Settlement Reporting</li>
					</ul>
				</div>
				<div class="individual-plan">
					<ul>
						<li class="header ms-hover"></li>
						<li class="header ms-hover"></li>
						<li class="ms-hover">Yes</li>
						<li class="ms-hover">Yes</li>
						<li class="ms-hover">Yes (full & partial)</li>
						<li class="ms-hover">Yes (full & partial)</li>
						<li class="ms-hover">Yes (full & partial)</li>
						<li class="ms-hover">Yes - webhook, email</li>
						<li class="ms-hover">No</li>
						<li class="ms-hover">Yes, only original RatePAY settlement reporting</li>
					</ul>
				</div>
			</div>
		</div>
		<br/>
		<br/>
		<div class="content-box-wrapper">
			<div class="pricing-box-alt row clearfix">
				<div class="col-md-3 plans-features">
					<ul>
						<li class="header ms-hover"><strong>Integration Types</strong></li>
						<li class="ms-hover">API</li>
						<li class="ms-hover">Widget</li>
						<li class="ms-hover">Bridge</li>
						<li class="ms-hover">Shop Plugin</li>
					</ul>
				</div>
				<div class="individual-plan">
					<ul>
						<li class="header ms-hover"><strong></strong></li>
						<li class="ms-hover">Yes</li>
						<li class="ms-hover">Yes</li>
						<li class="ms-hover">No</li>
						<li class="ms-hover">Yes</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<br/>
	<h3>Integration via Widget</h3>
	<br/>
	<p>
		Widget integration for RatePAY Invoice follows general rules and flow of widget integration for all payment methods and it has no specific differences.
	</p>
	<br/>
	<p>
		Information about general types of widget integration and their associated flows can be found under the following link: <a href="https://docs.payengine.de/outofthebox/widgetmenu/ourwidget">
		https://docs.payengine.de/outofthebox/widgetmenu/ourwidget
		</a>
	</p>
	<br/>
	<h3>Integration via API</h3>
	<br/>
	<h4>Step 1: General prerequisites for transactions </h4>
	<br/>
	<p>
		<strong>Prior to</strong> creating of any payment transaction the merchant needs to have in place a <strong>Customer</strong> connected with <strong>Persona</strong> and <strong>Billing/Shipping Address</strong> data.
	</p>
	<br/>
	<p>
		<strong>Important:</strong> All three objects - Customer, Persona and Billing/Shipping Address <strong>are mandatory</strong> for RatePAY Invoice and any transaction cannot be executed if they aren't in place.
	</p>
	<br/>
	<h5><strong><u>Customer</u></strong></h5>
	<br/>
	<p>
		Specific request parameters for creating of Customer object are different when end-customer is individual (B2C cases) and organization (B2B cases).
	</p>
	<br/>
	<strong>Customer in B2C cases</strong>
	<br/>
	<p>
		A new customer has to be created or existing customer ID has to be provided.
	</p>
	<br/>
	<p>
		<strong><i>Create Customer</i></strong> - for creating of a new customer, when end-customer is individual, the following specific request parameter has to be available:
	</p>
	<br/>
	<table border="1">
		<tr>
			<td align="center">
				PARAMETER
			</td>
			<td align="center">
				MANDATORY/OPTIONAL
			</td>
			<td align="center">
				DESCRIPTION
			</td>
			<td align="center">
				EXAMPLE
			</td>
		</tr>
		<tr>
			<td align="center">
				Email
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				email address of the customer
			</td>
			<td align="center">
				john@doe.com
			</td>
		</tr>
	</table>
	<br/>
	<p>
		An example for <i>Create Customer</i> request can be found below:
	</p>
	<br/>
	<p>POST/Customer</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Customer request
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
 "email": "{{{$timestamp}}}@payengine-test.de",
 "merchantCustomerId": "merchantCustomerId_{{{$timestamp}}}"
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<strong>Customer in B2B cases</strong>
	<br/>
	<p>
		For creating of a new customer, when end-customer is organization, the following specific request parameters have to be available:
	</p>
	<br/>
	<table border="1">
		<tr>
			<td align="center">
				PARAMETER
			</td>
			<td align="center">
				MANDATORY/OPTIONAL
			</td>
			<td align="center">
				DESCRIPTION
			</td>
			<td align="center">
				EXAMPLE
			</td>
		</tr>
		<tr>
			<td align="center">
				Email
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				email address from the customer organization
			</td>
			<td align="center">
				John.Dou@organization.com
			</td>
		</tr>
		<tr>
			<td align="center">
				Customer Type
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				when customer is an organization, this parameter has one possible value - organization
			</td>
			<td align="center">
				organization
			</td>
		</tr>
		<tr>
			<td align="center">
				Organization Registration ID
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				unique registration ID number of the organization
			</td>
			<td align="center">
				DE1234
			</td>
		</tr>
		<tr>
			<td align="center">
				Organization Entity Type
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				legal form of the organization
			</td>
			<td align="center">
				LIMITED_COMPANY
			</td>
		</tr>
		<tr>
			<td align="center">
				Organization VAT ID
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				unique VAT ID number of the organization
			</td>
			<td align="center">
				DE123456789
			</td>
		</tr>
		<tr>
			<td align="center">
				Company Name
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				official name of the organization
			</td>
			<td align="center">
				Power Group
			</td>
		</tr>
	</table>
	<br/>
	<h5><strong><u>Persona</u></strong></h5>
	<br/>
	<p>
		<i>Create Persona</i> - for creating of a persona, connected to a customer, the following specific request parameters have to be available:
	</p>
	<br/>
	<table border="1">
		<tr>
			<td align="center">
				PARAMETER
			</td>
			<td align="center">
				MANDATORY/OPTIONAL
			</td>
			<td align="center">
				DESCRIPTION
			</td>
			<td align="center">
				EXAMPLE
			</td>
		</tr>
		<tr>
			<td align="center">
				First Name
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				first name of the customer
			</td>
			<td align="center">
				John
			</td>
		</tr>
		<tr>
			<td align="center">
				Last Name
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				last name of the customer
			</td>
			<td align="center">
				Doe
			</td>
		</tr>
		<tr>
			<td align="center">
				Birthday
			</td>
			<td align="center">
				M(for B2C)
				<br/>
				O(for B2B)
			</td>
			<td align="center">
				birthday date of the customer
			</td>
			<td align="center">
				358293600000
			</td>
		</tr>
		<tr>
			<td align="center">
				Title
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				title of the customer
			</td>
			<td align="center">
				Prof. Dr.
			</td>
		</tr>
		<tr>
			<td align="center">
				Phone
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				home phone of the customer
			</td>
			<td align="center">
				00493012345
			</td>
		</tr>
		<tr>
			<td align="center">
				Mobile
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				mobile phone of the customer
			</td>
			<td align="center">
				00493012345
			</td>
		</tr>
		<tr>
			<td align="center">
				Fax
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				fax number of the customer
			</td>
			<td align="center">
				00493012345
			</td>
		</tr>
		<tr>
			<td align="center">
				Gender
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				gender of the customer
			</td>
			<td align="center">
				MALE
			</td>
		</tr>
	</table>
	<br/>
	<p>
		<strong>Specific requirement for persona:</strong> For RatePAY Invoice, the persona has to be at <strong>least 18</strong> years old.
	</p>
	<br/>
	<p>
		An example for Create Persona request  can be found below:
	</p>
	<br/>
	<p>POST /customers/{{customerId}}/personas</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Persona request
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
 "firstName": "John",
 "lastName": "Doe",
 "birthday": 358293600000
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<h5><strong><u>Billing/Shipping Address</u></strong></h5>
	<br/>
	<p>
		<strong>Important Note:</strong> As a rule, it's required Billing and Shipping addresses to be identical. Exceptions for merchants are possible only with additional agreement with RatePAY GmbH.
	</p>
	<br/>
	<p>
		<i>Create Billing/Shipping Address</i> - for creating of an address, connected to a customer, the following specific request parameters have to be available:
	</p>
	<br/>
	<table border="1">
		<tr>
			<td align="center">
				PARAMETER
			</td>
			<td align="center">
				MANDATORY/OPTIONAL
			</td>
			<td align="center">
				DESCRIPTION
			</td>
			<td align="center">
				EXAMPLE
			</td>
		</tr>
		<tr>
			<td align="center">
				First Name
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				first name of the customer/recipient
			</td>
			<td align="center">
				John
			</td>
		</tr>
		<tr>
			<td align="center">
				Last Name
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				last name of the customer/recipient
			</td>
			<td align="center">
				Doe
			</td>
		</tr>
		<tr>
			<td align="center">
				Street
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				street name of the customer/recipient
			</td>
			<td align="center">
				Musterweg
			</td>
		</tr>
		<tr>
			<td align="center">
				House Number
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				precise house location of the customer/recipient
			</td>
			<td align="center">
				4313
			</td>
		</tr>
		<tr>
			<td align="center">
				City
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				city of the customer/recipient
			</td>
			<td align="center">
				Musterhausen
			</td>
		</tr>
		<tr>
			<td align="center">
				Zip
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				precise zip code of location of the customer/recipient
			</td>
			<td align="center">
				55555
			</td>
		</tr>
		<tr>
			<td align="center">
				Country
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				country abbreviation of the customer/recipient
			</td>
			<td align="center">
				DE
			</td>
		</tr>
		<tr>
			<td align="center">
				Phone
			</td>
			<td align="center">
				M
			</td>
			<td align="center">
				home phone number of the customer/recipient
			</td>
			<td align="center">
				00493012345
			</td>
		</tr>
		<tr>
			<td align="center">
				State
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				state/province of location of the customer/recipient
			</td>
			<td align="center">
				Bayern
			</td>
		</tr>
		<tr>
			<td align="center">
				Fax
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				fax number of the customer/recipient
			</td>
			<td align="center">
				00493012345
			</td>
		</tr>
		<tr>
			<td align="center">
				Mobile
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				mobile number of the customer/recipient
			</td>
			<td align="center">
				00493012345
			</td>
		</tr>
		<tr>
			<td align="center">
				Title
			</td>
			<td align="center">
				O
			</td>
			<td align="center">
				title of the customer
			</td>
			<td align="center">
				Prof. Dr.
			</td>
		</tr>
	</table>
	<br/>
	<p>
		An example for <i>Create Address</i> request  can be found below:
	</p>
	<br/>
	<p>POST /customers/{{customerId}}/addresses</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Address request
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
 "firstName": "John",
 "lastName": "Doe",
 "street": "Musterweg",
 "houseNumber": "{{timestamp}}",
 "city": "Musterhausen",
 "zip": "55555",
 "country": "DE"
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<h5><strong><u>Device Identification for RatePAY Payment Methods</u></strong></h5>
	<br/>
	<p>
		In general Device Identification can be defined as a technique used to establish a "fingerprint" of a user's device used to access certain website or application of interest in order to track device activity and determine linkages between other devices.
	</p>
	<br/>
	<p>
		The main purpose of Device Identification technique is to support prevention of possible fraudulent operations.
	</p>
	<br/>
	<p>
		Device Identification is a mandatory prerequisite for all RatePAY payment methods. It has to be created prior to execution of any authorizing transactions (Preauth or Debit).
	</p>
	<br/>
	<p>
		For API integration of RatePAY payment methods it's recommended merchants to follow three steps regarding Device Identification:
	</p>
	<br/>
	<strong>1) Creating Device Ident using POST method</strong>
	<br/>
	<p>
		A POST request <strong>with empty body</strong> has to be directed to the following endpoints:
	</p>
	<ul>
		<li>for TM environment -
			<a href="https://pptest.payengine.de/widget/ratepay/device-ident/create">
			https://pptest.payengine.de/widget/ratepay/device-ident/create
			</a>
		</li>
		<li>for Production environment -
			<a href="https://pp.payengine.de/widget/ratepay/device-ident/create">
				https://pp.payengine.de/widget/ratepay/device-ident/create
			</a>
		</li>
	</ul>
	<br/>
	<p>
		Response of the request will contain the following properties:
	</p>
	<ul>
		<li>deviceIdentToken</li>
		<li>deviceIdentSId</li>
		<li>sessionToken</li>
	</ul>
	<br/>
	<p>
		Example response to Create Device request can be found below:
	</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Device Ident response
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
  "deviceIdentToken": "a95314a9d82918657fad2b07436602bb",
  "deviceIdentSId": "ratepay",
  "sessionToken": "58c93b94b6f01ab057683125a47390fb"
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<strong>2) Loading Payengine Bridge and External Libraries of RatePAY Device Ident</strong>
	<br/>
	<br/>
	<p>
		Based on the parameters received in the response of POST request in step one, the following has to be executed:
	</p>
	<code>
&lt;script src="https://pp.payengine.de/bridge/1.0/payengine.min.js" type="text/javascript"&gt;&lt;/script&gt;
&lt;script type="text/javascript">&gt;
window.onload = function() {
PayEngine.setPublishableKey( "&lt;YOUR_MERCHANT_ID&gt;" );
};
&lt;/script&gt;
Payengine.appendDeviceIdent(deviceIdentToken, deviceIdentSId, 'Checkout')
	</code>
	<br/>
	<strong>3) Sending Device Ident Token to Create Transaction Endpoint</strong>
	<br/>
	<p>
		Device Ident Token has to be sent <strong>via POST method</strong> in the body of Create Authorizing Transaction (Preauth or Debit) request.
	</p>
	<br/>
	<p>
		It will be placed within Payment object in the field <strong>riskIdentId</strong> as shown below:
	</p>
	<br/>
	<code>
{
	...
	payment: {
		riskIdentId: "DEVICE_IDENT_TOKEN"
	}
}
	</code>
	<br/>
	<p>
		<strong>Important Note: </strong>Authentication for RatePay Payment methods has to be <strong>Bearer merchantId</strong>.
	</p>
	<br/>
	<strong>Step 2 A: Preauth & Capture</strong>
	<br/>
	<strong><u>Preauth & Capture</u></strong>
	<br/>
	<p>
		The 'Preauth' is an authorizing transaction which doesn't directly book the initial amount of the order. It has to be followed by 'Capture' transaction in order to receive the funds.
	</p>
	<br/>
	<p><strong>
		Mandatory Object
	</strong>
	<br/>
		'Basket' is a mandatory object for all transaction requests of RatePAY Invoice payment method.
	<br/>
		'Basket' must have a minimum value of 20 EUR and not exceed 500 EUR.
	<br/>
	<p>
		Examples for <i>Create Preauth</i> request and <i>Create Preauth</i> response can be found below:
	</p>
	<br/>
	<p>
		<i>Create Preauth:</i> POST /orders/preauth
	</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Preauth request
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
  "terms": 1468590412476,
  "privacy": 1468590412476,
  "product": "ratepay-invoice",
  "merchantOrderId": "merchantOrderId_47015388",
  "description": "test transaction",
  "statementDescription": "statement description",
  "initialAmount": 20000,
  "currency": "EUR",
 "basket": [
    {
      "articleNumber": "SW10029",
      "name": "USB-Stick",
      "quantity": 1,
      "tax": 0,
      "totalPrice": 20000,
      "totalPriceWithTax": 20000,
      "unitPrice": 20000,
      "unitPriceWithTax": 20000
    }
  ],
  "customer": "customer_igqmbzyt0l",
  "persona": "persona_wvnhbkjhul",
  "billingAddress": "{{billingAddressId}}",
  "shippingAddress": "{{shippingAddressId}}",
  "ipAddress": "82.120.21.79",
  "channel": "ECOM",
  "source": "Postman Test 80529525",
  "async": {
    "successUrl": "https://www.google.de/#newwindow=1&q=success",
    "failureUrl": "https://www.google.de/#newwindow=1&q=failure",
    "cancelUrl": "https://www.google.de/#newwindow=1&q=cancel"
  },
  "payment": {

    "riskIdentId": "rpRiskIdentId_1541762648"
  }
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Preauth response
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
    "createdAt": 1550657256193,
    "modifiedAt": 1550657256198,
    "merchantId": "Merchant-11111111-1111-1111-1111-111111111111",
    "terms": 1468590412476,
    "privacy": 1468590412476,
    "orderId": "mvz8qoalbs",
    "merchantOrderId": "merchantOrderId_86995461",
    "paymentProviderTransactionId": "97eef8f3-0f59-4c09-ac27-2109986dedc8",
    "description": "test transaction",
    "statementDescription": "statement description",
    "initialAmount": 20000,
    "preauthorizedAmount": 20000,
    "capturedAmount": 0,
    "refundedAmount": 0,
    "canceledAmount": 0,
    "currency": "EUR",
    "basket": [
        {
            "id": "Article-678262f5-1080-466b-b773-d6cf90b6e46d",
            "name": "USB-Stick",
            "articleNumber": "SW10029",
            "totalPrice": 20000,
            "totalPriceWithTax": 20000,
            "unitPrice": 20000,
            "unitPriceWithTax": 20000,
            "quantity": 1,
            "tax": 0,
            "discount": null,
            "imageUrl": null,
            "articleUrl": null,
            "articleType": null
        }
    ],
    "customer": {
        "merchantCustomerId": "merchantCustomerId_1550654202",
        "organizationRegistrationRegister": null,
        "organizationRegistrationId": null,
        "organizationEntityType": null,
        "organizationVatId": null,
        "companyName": null,
        "reference": null,
        "email": "1550654202@payengine-test.de",
        "customerId": "customer_v6rw6nwkvq",
        "addresses": [],
        "personas": [],
        "paymentInstruments": [],
        "createdAt": 1550654202068,
        "modifiedAt": 1550654202068,
        "customerType": null
    },
    "persona": {
        "personaId": "persona_88gjlsyobe",
        "firstName": "Jane",
        "lastName": "LastName",
        "phone": "00493012345",
        "mobile": "00493012345",
        "fax": "00493012345",
        "birthday": 358293600000,
        "gender": "MALE",
        "title": "Prof. Dr.",
        "createdAt": 1550654208571,
        "modifiedAt": 1550654208571
    },
    "billingAddress": {
        "firstName": "Jane",
        "lastName": "LastName",
        "street": "Smith",
        "houseNumber": "1550654206",
        "city": "Musterhausen",
        "zip": "56231",
        "country": "DE",
        "state": "Bayern",
        "phone": "00493012345",
        "fax": "00493012345",
        "mobile": "00493012345",
        "title": "Prof. Dr.",
        "additionalDetails": "premium buyer",
        "addressId": "address_c5lvnmrf7q",
        "createdAt": 1550654206232,
        "modifiedAt": 1550654206232
    },
    "shippingAddress": {
        "firstName": "Jane",
        "lastName": "LastName",
        "street": "Smith",
        "houseNumber": "1550654206",
        "city": "Musterhausen",
        "zip": "56231",
        "country": "DE",
        "state": "Bayern",
        "phone": "00493012345",
        "fax": "00493012345",
        "mobile": "00493012345",
        "title": "Prof. Dr.",
        "additionalDetails": "premium buyer",
        "addressId": "address_c5lvnmrf7q",
        "createdAt": 1550654206232,
        "modifiedAt": 1550654206232
    },
    "ipAddress": "82.120.21.79",
    "paymentInstrument": {
        "createdAt": 1550657256173,
        "modifiedAt": 1550657256173,
        "paymentInstrumentId": "paymentinstrument_zbbot9v1t8",
        "merchantPaymentInstrumentId": null,
        "attributes": {
            "persona": {
                "firstName": "Jane",
                "lastName": "LastName",
                "phone": "00493012345",
                "fax": "00493012345",
                "mobile": "00493012345",
                "birthday": 358293600000,
                "gender": "MALE",
                "title": "Prof. Dr."
            }
        },
        "encrypted": false,
        "origin": "ratepay-invoice",
        "type": "bank-transfer",
        "recurring": false,
        "recurringConsent": null
    },
    "transactions": [
        {
            "createdAt": 1550657256197,
            "modifiedAt": 1550657256197,
            "type": "PREAUTH",
            "transactionId": "transaction_tj6bbbukkv",
            "description": "test transaction",
            "initialAmount": 20000,
            "capturedAmount": 0,
            "canceledAmount": 0,
            "currency": "EUR",
            "status": "OK",
            "order": "mvz8qoalbs",
            "parentTransaction": null,
            "transactions": null,
            "basket": [
                {
                    "id": "Article-678262f5-1080-466b-b773-d6cf90b6e46d",
                    "name": "USB-Stick",
                    "articleNumber": "SW10029",
                    "totalPrice": 20000,
                    "totalPriceWithTax": 20000,
                    "unitPrice": 20000,
                    "unitPriceWithTax": 20000,
                    "quantity": 1,
                    "tax": 0,
                    "discount": null,
                    "imageUrl": null,
                    "articleUrl": null,
                    "articleType": null
                }
            ],
            "providerCode": null,
            "merchantMessage": null,
            "customerMessage": null,
            "descriptor": null,
            "meta": null,
            "challenge": null,
            "asyncNotificationSubscriptionId": null,
            "tracking": null
        }
    ],
    "status": "OPEN",
    "channel": "ECOM",
    "source": "Postman Test 431353614",
    "settled": false,
    "settlementDate": null,
    "allowedProducts": null,
    "product": "ratepay-invoice",
    "transactionType": "PREAUTH",
    "meta": {
        "descriptor": "d6ce3049-44c7-4980-b045-cdf782304221",
        "riskIdentId": "rpRiskIdentId_1550657256",
        "preferredLanguage": "en"
    },
    "async": null,
    "deviceIdent": null,
    "asyncNotificationSubscriptionId": null,
    "redirectUrl": null
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<p>
		<strong>Important Note: </strong>Field 'riskIdentId' is required in 'payment' object in all cases when channel of the order is 'ECOM'.
	</p>
	<br/>
	<p><strong><u>Create Capture</u></strong></p>
	<br/>
	<p><strong>Specific Prerequisite for Capture Transaction</strong>Existing and not expired 'Preauth' transaction in 'Success' status has to be in place when creating a 'Capture' transaction.</p>
	<br/>
	<p>
		A 'Capture' transaction can be created for amount not bigger than initial amount of 'Preauth' transaction.
	</p>
	<br/>
	<p>
		RatePAY Invoice enables full and partial capture of the initial amount of the order.
	</p>
	<br/>
	<p>
		Examples for <i>Create Capture</i> request and <i>Create Capture</i> response can be found below:
	</p>
	<br/>
	<p>
		POST/orders/{orderId}/transactions/{transactionId}/capture
	</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Capture request
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
  "description": "description for opeation.",
  "currency": "EUR",
  "initialAmount": 20000,
  "basket": [
    {
      "articleNumber": "SW10029",
      "name": "USB-Stick",
      "quantity": 1,
      "tax": 0,
      "totalPrice": 20000,
      "totalPriceWithTax": 20000,
      "unitPrice": 20000,
    }
  ]
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Capture response
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
    "createdAt": 1550473868193,
    "modifiedAt": 1550473869145,
    "type": "CAPTURE",
    "transactionId": "transaction_fjlozxeh0u",
    "description": "description for operation.",
    "initialAmount": 20000,
    "refundedAmount": 0,
    "currency": "EUR",
    "status": "SUCCESS",
    "order": {
        "createdAt": 1550473783153,
        "modifiedAt": 1550473784532,
        "merchantId": "Merchant-11111111-1111-1111-1111-111111111111",
        "terms": 1468590412476,
        "privacy": 1468590412476,
        "orderId": "6eodzghrot",
        "merchantOrderId": "merchantOrderId_3060144",
        "paymentProviderTransactionId": "38-2019021811719486",
        "description": "test transaction",
        "statementDescription": "statement description",
        "initialAmount": 20000,
        "preauthorizedAmount": 20000,
        "capturedAmount": 20000,
        "refundedAmount": 0,
        "canceledAmount": 0,
        "currency": "EUR",
        "basket": [
            {
                "id": "Article-35e2ce7e-ee5b-406e-ae95-94f0ad25ddfa",
                "name": "USB-Stick",
                "articleNumber": "SW10029",
                "totalPrice": 20000,
                "totalPriceWithTax": 20000,
                "unitPrice": 20000,
                "unitPriceWithTax": 20000,
                "quantity": 1,
                "tax": 0,
                "discount": null,
                "imageUrl": null,
                "articleUrl": null,
                "articleType": null
            }
        ],
        "customer": {
            "merchantCustomerId": "merchantCustomerId_1550234971",
            "organizationRegistrationRegister": null,
            "organizationRegistrationId": null,
            "organizationEntityType": null,
            "organizationVatId": null,
            "companyName": null,
            "reference": null,
            "email": "1550234971@payengine-test.de",
            "customerId": "customer_dqxhzzqulh",
            "addresses": [],
            "personas": [],
            "paymentInstruments": [],
            "createdAt": 1550234971184,
            "modifiedAt": 1550234971184,
            "customerType": null
        },
        "persona": {
            "personaId": "persona_2gmxry7es4",
            "firstName": "John",
            "lastName": "Doe",
            "phone": "00493012345",
            "mobile": "00493012345",
            "fax": "00493012345",
            "birthday": 358293600000,
            "gender": "MALE",
            "title": "Prof. Dr.",
            "createdAt": 1550234978127,
            "modifiedAt": 1550234978127
        },
        "billingAddress": {
            "firstName": "John",
            "lastName": "Doe",
            "street": "Musterweg",
            "houseNumber": "431353614",
            "city": "Musterhausen",
            "zip": "55555",
            "country": "DE",
            "state": "Bayern",
            "phone": "00493012345",
            "fax": "00493012345",
            "mobile": "00493012345",
            "title": "Prof. Dr.",
            "additionalDetails": "premium buyer",
            "addressId": "address_ytwrpphiqj",
            "createdAt": 1550234975370,
            "modifiedAt": 1550234975370
        },
        "shippingAddress": {
            "firstName": "John",
            "lastName": "Doe",
            "street": "Musterweg",
            "houseNumber": "431353614",
            "city": "Musterhausen",
            "zip": "55555",
            "country": "DE",
            "state": "Bayern",
            "phone": "00493012345",
            "fax": "00493012345",
            "mobile": "00493012345",
            "title": "Prof. Dr.",
            "additionalDetails": "premium buyer",
            "addressId": "address_ytwrpphiqj",
            "createdAt": 1550234975370,
            "modifiedAt": 1550234975370
        },
        "ipAddress": "82.120.21.79",
        "paymentInstrument": {
            "createdAt": 1550473783127,
            "modifiedAt": 1550473783127,
            "paymentInstrumentId": "paymentinstrument_ln8ir18veo",
            "merchantPaymentInstrumentId": null,
            "attributes": {
                "persona": {
                    "firstName": "John",
                    "lastName": "Doe",
                    "phone": "00493012345",
                    "fax": "00493012345",
                    "mobile": "00493012345",
                    "birthday": 358293600000,
                    "gender": "MALE",
                    "title": "Prof. Dr.",
                    "handler": {},
                    "hibernateLazyInitializer": {}
                }
            },
            "encrypted": false,
            "origin": "ratepay-invoice",
            "type": "bank-transfer",
            "recurring": false,
            "recurringConsent": null
        },
        "transactions": [
            {
                "createdAt": 1550473783172,
                "modifiedAt": 1550473869145,
                "type": "PREAUTH",
                "transactionId": "transaction_qgtg4rymcc",
                "description": "test transaction",
                "initialAmount": 20000,
                "capturedAmount": 20000,
                "canceledAmount": 0,
                "currency": "EUR",
                "status": "OK",
                "order": "6eodzghrot",
                "parentTransaction": null,
                "transactions": [
                    "transaction_fjlozxeh0u"
                ],
                "basket": [
                    {
                        "id": "Article-35e2ce7e-ee5b-406e-ae95-94f0ad25ddfa",
                        "name": "USB-Stick",
                        "articleNumber": "SW10029",
                        "totalPrice": 20000,
                        "totalPriceWithTax": 20000,
                        "unitPrice": 20000,
                        "unitPriceWithTax": 20000,
                        "quantity": 1,
                        "tax": 0,
                        "discount": null,
                        "imageUrl": null,
                        "articleUrl": null,
                        "articleType": null
                    }
                ],
                "providerCode": null,
                "merchantMessage": null,
                "customerMessage": null,
                "descriptor": null,
                "meta": null,
                "challenge": null,
                "asyncNotificationSubscriptionId": null,
                "tracking": []
            }
        ],
        "status": "OPEN",
        "channel": "ECOM",
        "source": "Postman Test 431353614",
        "settled": false,
        "settlementDate": null,
        "allowedProducts": [],
        "product": "ratepay-invoice",
        "transactionType": "PREAUTH",
        "meta": {
            "descriptor": "DK0162001Y9",
            "riskIdentId": "rpRiskIdentId_1550473783",
            "preferredLanguage": "en"
        },
        "async": null,
        "deviceIdent": null,
        "asyncNotificationSubscriptionId": null
    },
    "parentTransaction": {
        "createdAt": 1550473783172,
        "modifiedAt": 1550473869145,
        "type": "PREAUTH",
        "transactionId": "transaction_qgtg4rymcc",
        "description": "test transaction",
        "initialAmount": 20000,
        "capturedAmount": 20000,
        "canceledAmount": 0,
        "currency": "EUR",
        "status": "OK",
        "order": {
            "createdAt": 1550473783153,
            "modifiedAt": 1550473784532,
            "merchantId": "Merchant-11111111-1111-1111-1111-111111111111",
            "terms": 1468590412476,
            "privacy": 1468590412476,
            "orderId": "6eodzghrot",
            "merchantOrderId": "merchantOrderId_3060144",
            "paymentProviderTransactionId": "38-2019021811719486",
            "description": "test transaction",
            "statementDescription": "statement description",
            "initialAmount": 20000,
            "preauthorizedAmount": 20000,
            "capturedAmount": 20000,
            "refundedAmount": 0,
            "canceledAmount": 0,
            "currency": "EUR",
            "basket": [
                {
                    "id": "Article-35e2ce7e-ee5b-406e-ae95-94f0ad25ddfa",
                    "name": "USB-Stick",
                    "articleNumber": "SW10029",
                    "totalPrice": 20000,
                    "totalPriceWithTax": 20000,
                    "unitPrice": 20000,
                    "unitPriceWithTax": 20000,
                    "quantity": 1,
                    "tax": 0,
                    "discount": null,
                    "imageUrl": null,
                    "articleUrl": null,
                    "articleType": null
                }
            ],
            "customer": {
                "merchantCustomerId": "merchantCustomerId_1550234971",
                "organizationRegistrationRegister": null,
                "organizationRegistrationId": null,
                "organizationEntityType": null,
                "organizationVatId": null,
                "companyName": null,
                "reference": null,
                "email": "1550234971@payengine-test.de",
                "customerId": "customer_dqxhzzqulh",
                "addresses": [],
                "personas": [],
                "paymentInstruments": [],
                "createdAt": 1550234971184,
                "modifiedAt": 1550234971184,
                "customerType": null
            },
            "persona": {
                "personaId": "persona_2gmxry7es4",
                "firstName": "John",
                "lastName": "Doe",
                "phone": "00493012345",
                "mobile": "00493012345",
                "fax": "00493012345",
                "birthday": 358293600000,
                "gender": "MALE",
                "title": "Prof. Dr.",
                "createdAt": 1550234978127,
                "modifiedAt": 1550234978127
            },
            "billingAddress": {
                "firstName": "John",
                "lastName": "Doe",
                "street": "Musterweg",
                "houseNumber": "431353614",
                "city": "Musterhausen",
                "zip": "55555",
                "country": "DE",
                "state": "Bayern",
                "phone": "00493012345",
                "fax": "00493012345",
                "mobile": "00493012345",
                "title": "Prof. Dr.",
                "additionalDetails": "premium buyer",
                "addressId": "address_ytwrpphiqj",
                "createdAt": 1550234975370,
                "modifiedAt": 1550234975370
            },
            "shippingAddress": {
                "firstName": "John",
                "lastName": "Doe",
                "street": "Musterweg",
                "houseNumber": "431353614",
                "city": "Musterhausen",
                "zip": "55555",
                "country": "DE",
                "state": "Bayern",
                "phone": "00493012345",
                "fax": "00493012345",
                "mobile": "00493012345",
                "title": "Prof. Dr.",
                "additionalDetails": "premium buyer",
                "addressId": "address_ytwrpphiqj",
                "createdAt": 1550234975370,
                "modifiedAt": 1550234975370
            },
            "ipAddress": "82.120.21.79",
            "paymentInstrument": {
                "createdAt": 1550473783127,
                "modifiedAt": 1550473783127,
                "paymentInstrumentId": "paymentinstrument_ln8ir18veo",
                "merchantPaymentInstrumentId": null,
                "attributes": {
                    "persona": {
                        "firstName": "John",
                        "lastName": "Doe",
                        "phone": "00493012345",
                        "fax": "00493012345",
                        "mobile": "00493012345",
                        "birthday": 358293600000,
                        "gender": "MALE",
                        "title": "Prof. Dr.",
                        "handler": {},
                        "hibernateLazyInitializer": {}
                    }
                },
                "encrypted": false,
                "origin": "ratepay-invoice",
                "type": "bank-transfer",
                "recurring": false,
                "recurringConsent": null
            },
            "transactions": [
                "transaction_qgtg4rymcc"
            ],
            "status": "OPEN",
            "channel": "ECOM",
            "source": "Postman Test 431353614",
            "settled": false,
            "settlementDate": null,
            "allowedProducts": [],
            "product": "ratepay-invoice",
            "transactionType": "PREAUTH",
            "meta": {
                "descriptor": "DK0162001Y9",
                "riskIdentId": "rpRiskIdentId_1550473783",
                "preferredLanguage": "en"
            },
            "async": null,
            "deviceIdent": null,
            "asyncNotificationSubscriptionId": null
        },
        "parentTransaction": null,
        "transactions": [
            "transaction_fjlozxeh0u"
        ],
        "basket": [
            {
                "id": "Article-35e2ce7e-ee5b-406e-ae95-94f0ad25ddfa",
                "name": "USB-Stick",
                "articleNumber": "SW10029",
                "totalPrice": 20000,
                "totalPriceWithTax": 20000,
                "unitPrice": 20000,
                "unitPriceWithTax": 20000,
                "quantity": 1,
                "tax": 0,
                "discount": null,
                "imageUrl": null,
                "articleUrl": null,
                "articleType": null
            }
        ],
        "providerCode": null,
        "merchantMessage": null,
        "customerMessage": null,
        "descriptor": null,
        "meta": null,
        "challenge": null,
        "asyncNotificationSubscriptionId": null,
        "tracking": []
    },
    "transactions": null,
    "basket": [
        {
            "id": "Article-3fe84703-7c39-440c-843e-45d47f43981e",
            "name": "USB-Stick",
            "articleNumber": "SW10029",
            "totalPrice": 20000,
            "totalPriceWithTax": 20000,
            "unitPrice": 20000,
            "unitPriceWithTax": 20000,
            "quantity": 1,
            "tax": 0,
            "discount": null,
            "imageUrl": null,
            "articleUrl": null,
            "articleType": null
        }
    ],
    "providerCode": null,
    "merchantMessage": null,
    "customerMessage": null,
    "descriptor": null,
    "meta": null,
    "challenge": null,
    "asyncNotificationSubscriptionId": null,
    "tracking": null
	}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<p><strong>Cancel</strong></p>
	<br/>
	<p>
		Any pre-authorized order can still be cancelled as long as the order <strong>has not been</strong> captured.
	</p>
	<br/>
	<p>
		A 'Cancel' transaction can be created for amount not bigger than initial amount of 'Preauth' transaction.
	</p>
	<br/>
	<p>
		RatePAY Invoice payment method enables full and partial cancellation of the initial amount of the order.
	</p>
	<br/>
	<p><strong><u>Create Cancel</u></strong></p>
	<br/>
	<p>
		Examples for <i>Create Cancel</i> request and <i>Create Cancel</i> response can be found below:
	</p>
	<br/>
	<p>
		POST/orders/{orderId}/transactions/{transactionId}/cancel
	</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Cancel request
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
  "initialAmount": 20000,
  "currency": "EUR",
  "description": "string",
  "basket": [
    {
      "articleNumber": "SW10029",
      "name": "USB-Stick",
      "quantity": 1,
      "tax": 0,
      "totalPrice": 20000,
      "totalPriceWithTax": 20000,
      "unitPrice": 20000,
      "unitPriceWithTax": 20000
    }
  ]
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Cancel response
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
    "createdAt": 1550473938975,
    "modifiedAt": 1550473939922,
    "type": "CANCEL",
    "transactionId": "transaction_h8flakxhez",
    "description": "string",
    "initialAmount": 20000,
    "currency": "EUR",
    "status": "SUCCESS",
    "order": {
        "createdAt": 1550473909948,
        "modifiedAt": 1550473939921,
        "merchantId": "Merchant-11111111-1111-1111-1111-111111111111",
        "terms": 1468590412476,
        "privacy": 1468590412476,
        "orderId": "k43gtp8jwl",
        "merchantOrderId": "merchantOrderId_46399844",
        "paymentProviderTransactionId": "14-2019021811719494",
        "description": "test transaction",
        "statementDescription": "statement description",
        "initialAmount": 20000,
        "preauthorizedAmount": 20000,
        "capturedAmount": 0,
        "refundedAmount": 0,
        "canceledAmount": 20000,
        "currency": "EUR",
        "basket": [
            {
                "id": "Article-a43fbfb7-23ac-4857-872c-77b739e8084e",
                "name": "USB-Stick",
                "articleNumber": "SW10029",
                "totalPrice": 20000,
                "totalPriceWithTax": 20000,
                "unitPrice": 20000,
                "unitPriceWithTax": 20000,
                "quantity": 1,
                "tax": 0,
                "discount": null,
                "imageUrl": null,
                "articleUrl": null,
                "articleType": null
            }
        ],
        "customer": {
            "merchantCustomerId": "merchantCustomerId_1550234971",
            "organizationRegistrationRegister": null,
            "organizationRegistrationId": null,
            "organizationEntityType": null,
            "organizationVatId": null,
            "companyName": null,
            "reference": null,
            "email": "1550234971@payengine-test.de",
            "customerId": "customer_dqxhzzqulh",
            "addresses": [],
            "personas": [],
            "paymentInstruments": [],
            "createdAt": 1550234971184,
            "modifiedAt": 1550234971184,
            "customerType": null
        },
        "persona": {
            "personaId": "persona_2gmxry7es4",
            "firstName": "John",
            "lastName": "Doe",
            "phone": "00493012345",
            "mobile": "00493012345",
            "fax": "00493012345",
            "birthday": 358293600000,
            "gender": "MALE",
            "title": "Prof. Dr.",
            "createdAt": 1550234978127,
            "modifiedAt": 1550234978127
        },
        "billingAddress": {
            "firstName": "John",
            "lastName": "Doe",
            "street": "Musterweg",
            "houseNumber": "431353614",
            "city": "Musterhausen",
            "zip": "55555",
            "country": "DE",
            "state": "Bayern",
            "phone": "00493012345",
            "fax": "00493012345",
            "mobile": "00493012345",
            "title": "Prof. Dr.",
            "additionalDetails": "premium buyer",
            "addressId": "address_ytwrpphiqj",
            "createdAt": 1550234975370,
            "modifiedAt": 1550234975370
        },
        "shippingAddress": {
            "firstName": "John",
            "lastName": "Doe",
            "street": "Musterweg",
            "houseNumber": "431353614",
            "city": "Musterhausen",
            "zip": "55555",
            "country": "DE",
            "state": "Bayern",
            "phone": "00493012345",
            "fax": "00493012345",
            "mobile": "00493012345",
            "title": "Prof. Dr.",
            "additionalDetails": "premium buyer",
            "addressId": "address_ytwrpphiqj",
            "createdAt": 1550234975370,
            "modifiedAt": 1550234975370
        },
        "ipAddress": "82.120.21.79",
        "paymentInstrument": {
            "createdAt": 1550473909936,
            "modifiedAt": 1550473909936,
            "paymentInstrumentId": "paymentinstrument_wpgxxwdodc",
            "merchantPaymentInstrumentId": null,
            "attributes": {
                "persona": {
                    "firstName": "John",
                    "lastName": "Doe",
                    "phone": "00493012345",
                    "fax": "00493012345",
                    "mobile": "00493012345",
                    "birthday": 358293600000,
                    "gender": "MALE",
                    "title": "Prof. Dr.",
                    "handler": {},
                    "hibernateLazyInitializer": {}
                }
            },
            "encrypted": false,
            "origin": "ratepay-invoice",
            "type": "bank-transfer",
            "recurring": false,
            "recurringConsent": null
        },
        "transactions": [
            {
                "createdAt": 1550473909951,
                "modifiedAt": 1550473910653,
                "type": "PREAUTH",
                "transactionId": "transaction_88jyhncacd",
                "description": "test transaction",
                "initialAmount": 20000,
                "capturedAmount": 0,
                "canceledAmount": 20000,
                "currency": "EUR",
                "status": "OK",
                "order": "k43gtp8jwl",
                "parentTransaction": null,
                "transactions": [
                    "transaction_h8flakxhez"
                ],
                "basket": [
                    {
                        "id": "Article-a43fbfb7-23ac-4857-872c-77b739e8084e",
                        "name": "USB-Stick",
                        "articleNumber": "SW10029",
                        "totalPrice": 20000,
                        "totalPriceWithTax": 20000,
                        "unitPrice": 20000,
                        "unitPriceWithTax": 20000,
                        "quantity": 1,
                        "tax": 0,
                        "discount": null,
                        "imageUrl": null,
                        "articleUrl": null,
                        "articleType": null
                    }
                ],
                "providerCode": null,
                "merchantMessage": null,
                "customerMessage": null,
                "descriptor": null,
                "meta": null,
                "challenge": null,
                "asyncNotificationSubscriptionId": null,
                "tracking": []
            }
        ],
        "status": "CLOSED",
        "channel": "ECOM",
        "source": "Postman Test 431353614",
        "settled": false,
        "settlementDate": null,
        "allowedProducts": [],
        "product": "ratepay-invoice",
        "transactionType": "PREAUTH",
        "meta": {
            "descriptor": "DK0162002G5",
            "riskIdentId": "rpRiskIdentId_1550473910",
            "preferredLanguage": "en"
        },
        "async": null,
        "deviceIdent": null,
        "asyncNotificationSubscriptionId": null
    },
    "parentTransaction": {
        "createdAt": 1550473909951,
        "modifiedAt": 1550473910653,
        "type": "PREAUTH",
        "transactionId": "transaction_88jyhncacd",
        "description": "test transaction",
        "initialAmount": 20000,
        "capturedAmount": 0,
        "canceledAmount": 20000,
        "currency": "EUR",
        "status": "OK",
        "order": {
            "createdAt": 1550473909948,
            "modifiedAt": 1550473939921,
            "merchantId": "Merchant-11111111-1111-1111-1111-111111111111",
            "terms": 1468590412476,
            "privacy": 1468590412476,
            "orderId": "k43gtp8jwl",
            "merchantOrderId": "merchantOrderId_46399844",
            "paymentProviderTransactionId": "14-2019021811719494",
            "description": "test transaction",
            "statementDescription": "statement description",
            "initialAmount": 20000,
            "preauthorizedAmount": 20000,
            "capturedAmount": 0,
            "refundedAmount": 0,
            "canceledAmount": 20000,
            "currency": "EUR",
            "basket": [
                {
                    "id": "Article-a43fbfb7-23ac-4857-872c-77b739e8084e",
                    "name": "USB-Stick",
                    "articleNumber": "SW10029",
                    "totalPrice": 20000,
                    "totalPriceWithTax": 20000,
                    "unitPrice": 20000,
                    "unitPriceWithTax": 20000,
                    "quantity": 1,
                    "tax": 0,
                    "discount": null,
                    "imageUrl": null,
                    "articleUrl": null,
                    "articleType": null
                }
            ],
            "customer": {
                "merchantCustomerId": "merchantCustomerId_1550234971",
                "organizationRegistrationRegister": null,
                "organizationRegistrationId": null,
                "organizationEntityType": null,
                "organizationVatId": null,
                "companyName": null,
                "reference": null,
                "email": "1550234971@payengine-test.de",
                "customerId": "customer_dqxhzzqulh",
                "addresses": [],
                "personas": [],
                "paymentInstruments": [],
                "createdAt": 1550234971184,
                "modifiedAt": 1550234971184,
                "customerType": null
            },
            "persona": {
                "personaId": "persona_2gmxry7es4",
                "firstName": "John",
                "lastName": "Doe",
                "phone": "00493012345",
                "mobile": "00493012345",
                "fax": "00493012345",
                "birthday": 358293600000,
                "gender": "MALE",
                "title": "Prof. Dr.",
                "createdAt": 1550234978127,
                "modifiedAt": 1550234978127
            },
            "billingAddress": {
                "firstName": "John",
                "lastName": "Doe",
                "street": "Musterweg",
                "houseNumber": "431353614",
                "city": "Musterhausen",
                "zip": "55555",
                "country": "DE",
                "state": "Bayern",
                "phone": "00493012345",
                "fax": "00493012345",
                "mobile": "00493012345",
                "title": "Prof. Dr.",
                "additionalDetails": "premium buyer",
                "addressId": "address_ytwrpphiqj",
                "createdAt": 1550234975370,
                "modifiedAt": 1550234975370
            },
            "shippingAddress": {
                "firstName": "John",
                "lastName": "Doe",
                "street": "Musterweg",
                "houseNumber": "431353614",
                "city": "Musterhausen",
                "zip": "55555",
                "country": "DE",
                "state": "Bayern",
                "phone": "00493012345",
                "fax": "00493012345",
                "mobile": "00493012345",
                "title": "Prof. Dr.",
                "additionalDetails": "premium buyer",
                "addressId": "address_ytwrpphiqj",
                "createdAt": 1550234975370,
                "modifiedAt": 1550234975370
            },
            "ipAddress": "82.120.21.79",
            "paymentInstrument": {
                "createdAt": 1550473909936,
                "modifiedAt": 1550473909936,
                "paymentInstrumentId": "paymentinstrument_wpgxxwdodc",
                "merchantPaymentInstrumentId": null,
                "attributes": {
                    "persona": {
                        "firstName": "John",
                        "lastName": "Doe",
                        "phone": "00493012345",
                        "fax": "00493012345",
                        "mobile": "00493012345",
                        "birthday": 358293600000,
                        "gender": "MALE",
                        "title": "Prof. Dr.",
                        "handler": {},
                        "hibernateLazyInitializer": {}
                    }
                },
                "encrypted": false,
                "origin": "ratepay-invoice",
                "type": "bank-transfer",
                "recurring": false,
                "recurringConsent": null
            },
            "transactions": [
                "transaction_88jyhncacd"
            ],
            "status": "CLOSED",
            "channel": "ECOM",
            "source": "Postman Test 431353614",
            "settled": false,
            "settlementDate": null,
            "allowedProducts": [],
            "product": "ratepay-invoice",
            "transactionType": "PREAUTH",
            "meta": {
                "descriptor": "DK0162002G5",
                "riskIdentId": "rpRiskIdentId_1550473910",
                "preferredLanguage": "en"
            },
            "async": null,
            "deviceIdent": null,
            "asyncNotificationSubscriptionId": null
        },
        "parentTransaction": null,
        "transactions": [
            "transaction_h8flakxhez"
        ],
        "basket": [
            {
                "id": "Article-a43fbfb7-23ac-4857-872c-77b739e8084e",
                "name": "USB-Stick",
                "articleNumber": "SW10029",
                "totalPrice": 20000,
                "totalPriceWithTax": 20000,
                "unitPrice": 20000,
                "unitPriceWithTax": 20000,
                "quantity": 1,
                "tax": 0,
                "discount": null,
                "imageUrl": null,
                "articleUrl": null,
                "articleType": null
            }
        ],
        "providerCode": null,
        "merchantMessage": null,
        "customerMessage": null,
        "descriptor": null,
        "meta": null,
        "challenge": null,
        "asyncNotificationSubscriptionId": null,
        "tracking": []
    },
    "transactions": null,
    "basket": [
        {
            "id": "Article-737a04c2-c21e-4d65-962d-d88b7cfd60e7",
            "name": "USB-Stick",
            "articleNumber": "SW10029",
            "totalPrice": 20000,
            "totalPriceWithTax": 20000,
            "unitPrice": 20000,
            "unitPriceWithTax": 20000,
            "quantity": 1,
            "tax": 0,
            "discount": null,
            "imageUrl": null,
            "articleUrl": null,
            "articleType": null
        }
    ],
    "providerCode": null,
    "merchantMessage": null,
    "customerMessage": null,
    "descriptor": null,
    "meta": null,
    "challenge": null,
    "asyncNotificationSubscriptionId": null,
    "tracking": null
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<h4>Step 2 B: Debit</h4>
	<br/>
	<p>
		Both 'Debit' and 'Preauth' are <strong>alternative variants</strong> of the initial transaction to create an order.
	</p>
	<br/>
	<p>
		'Debit' is an authorizing transaction which directly books the full amount of the order.
	</p>
	<br/>
	<p>
		If  'Debit' transaction is preferred instead of 'Preauth', the goods from the order will be considered as shipped to the end-customer and the payment term of the invoice will begin to run from that moment.
	</p>
	<br/>
	<p>
		This option might be not very appropriate in cases of delivering of physical goods, especially when delays in delivery are expected.
	</p>
	<br/>
	<p><strong><u>Create Debit</u></strong></p>
	<br/>
	<p>
		Examples for <i>Create Debit</i> request and <i>Create Debit</i> response can be found below:
	</p>
	<br/>
	<p>
		POST/orders/debit
	</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Debit request
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
  "terms": 1468590412476,
  "privacy": 1468590412476,
  "product": "ratepay-invoice",
  "merchantOrderId": "merchantOrderId_47015388",
  "description": "test transaction",
  "statementDescription": "statement description",
  "initialAmount": 20000,
  "currency": "EUR",
 "basket": [
    {
      "articleNumber": "SW10029",
      "name": "USB-Stick",
      "quantity": 1,
      "tax": 0,
      "totalPrice": 20000,
      "totalPriceWithTax": 20000,
      "unitPrice": 20000,
      "unitPriceWithTax": 20000
    }
  ],
  "customer": "customer_igqmbzyt0l",
  "persona": "persona_wvnhbkjhul",
  "billingAddress": "{{billingAddressId}}",
  "shippingAddress": "{{shippingAddressId}}",
  "ipAddress": "82.120.21.79",
  "channel": "ECOM",
  "source": "Postman Test 80529525",
  "async": {
    "successUrl": "https://www.google.de/#newwindow=1&q=success",
    "failureUrl": "https://www.google.de/#newwindow=1&q=failure",
    "cancelUrl": "https://www.google.de/#newwindow=1&q=cancel"
  },
  "payment": {

    "riskIdentId": "rpRiskIdentId_1541762648"
  }
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Debit response
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
    "createdAt": 1550657294081,
    "modifiedAt": 1550657294105,
    "merchantId": "Merchant-11111111-1111-1111-1111-111111111111",
    "terms": 1468590412476,
    "privacy": 1468590412476,
    "orderId": "4t0w7zug1h",
    "merchantOrderId": "merchantOrderId_20713669",
    "paymentProviderTransactionId": "c16a0f9d-b148-44e9-95aa-a380b7d4fb30",
    "description": "RP IV",
    "statementDescription": "RP IV",
    "initialAmount": 20000,
    "preauthorizedAmount": 20000,
    "capturedAmount": 20000,
    "refundedAmount": 0,
    "canceledAmount": 0,
    "currency": "EUR",
    "basket": [
        {
            "id": "Article-76763eb9-9185-40ff-8d82-d6aa3ae3a0ee",
            "name": "USB-Stick",
            "articleNumber": "SW10029",
            "totalPrice": 20000,
            "totalPriceWithTax": 20000,
            "unitPrice": 20000,
            "unitPriceWithTax": 20000,
            "quantity": 1,
            "tax": 0,
            "discount": null,
            "imageUrl": null,
            "articleUrl": null,
            "articleType": null
        }
    ],
    "customer": {
        "merchantCustomerId": "merchantCustomerId_1550654202",
        "organizationRegistrationRegister": null,
        "organizationRegistrationId": null,
        "organizationEntityType": null,
        "organizationVatId": null,
        "companyName": null,
        "reference": null,
        "email": "1550654202@payengine-test.de",
        "customerId": "customer_v6rw6nwkvq",
        "addresses": [],
        "personas": [],
        "paymentInstruments": [],
        "createdAt": 1550654202068,
        "modifiedAt": 1550654202068,
        "customerType": null
    },
    "persona": {
        "personaId": "persona_88gjlsyobe",
        "firstName": "John",
        "lastName": "Doe",
        "phone": "00493012345",
        "mobile": "00493012345",
        "fax": "00493012345",
        "birthday": 358293600000,
        "gender": "MALE",
        "title": "Prof. Dr.",
        "createdAt": 1550654208571,
        "modifiedAt": 1550654208571
    },
    "billingAddress": {
        "firstName": "John",
        "lastName": "Doe",
        "street": "Smith",
        "houseNumber": "1550654206",
        "city": "Musterhausen",
        "zip": "56231",
        "country": "DE",
        "state": "Bayern",
        "phone": "00493012345",
        "fax": "00493012345",
        "mobile": "00493012345",
        "title": "Prof. Dr.",
        "additionalDetails": "premium buyer",
        "addressId": "address_c5lvnmrf7q",
        "createdAt": 1550654206232,
        "modifiedAt": 1550654206232
    },
    "shippingAddress": {
        "firstName": "John",
        "lastName": "Doe",
        "street": "Smith",
        "houseNumber": "1550654206",
        "city": "Musterhausen",
        "zip": "56231",
        "country": "DE",
        "state": "Bayern",
        "phone": "00493012345",
        "fax": "00493012345",
        "mobile": "00493012345",
        "title": "Prof. Dr.",
        "additionalDetails": "premium buyer",
        "addressId": "address_c5lvnmrf7q",
        "createdAt": 1550654206232,
        "modifiedAt": 1550654206232
    },
    "ipAddress": "82.120.21.79",
    "paymentInstrument": {
        "createdAt": 1550657294059,
        "modifiedAt": 1550657294059,
        "paymentInstrumentId": "paymentinstrument_medpqz0wk2",
        "merchantPaymentInstrumentId": null,
        "attributes": {
            "persona": {
                "firstName": "John",
                "lastName": "Doe",
                "phone": "00493012345",
                "fax": "00493012345",
                "mobile": "00493012345",
                "birthday": 358293600000,
                "gender": "MALE",
                "title": "Prof. Dr."
            }
        },
        "encrypted": false,
        "origin": "ratepay-invoice",
        "type": "bank-transfer",
        "recurring": false,
        "recurringConsent": null
    },
    "transactions": [
        {
            "createdAt": 1550657294100,
            "modifiedAt": 1550657294100,
            "type": "DEBIT",
            "transactionId": "transaction_obgqvkl6v5",
            "description": "RP IV",
            "initialAmount": 20000,
            "refundedAmount": 0,
            "currency": "EUR",
            "status": "SUCCESS",
            "order": "4t0w7zug1h",
            "parentTransaction": null,
            "transactions": null,
            "basket": [
                {
                    "id": "Article-76763eb9-9185-40ff-8d82-d6aa3ae3a0ee",
                    "name": "USB-Stick",
                    "articleNumber": "SW10029",
                    "totalPrice": 20000,
                    "totalPriceWithTax": 20000,
                    "unitPrice": 20000,
                    "unitPriceWithTax": 20000,
                    "quantity": 1,
                    "tax": 0,
                    "discount": null,
                    "imageUrl": null,
                    "articleUrl": null,
                    "articleType": null
                }
            ],
            "providerCode": null,
            "merchantMessage": null,
            "customerMessage": null,
            "descriptor": null,
            "meta": null,
            "challenge": null,
            "asyncNotificationSubscriptionId": null,
            "tracking": null
        }
    ],
    "status": "OPEN",
    "channel": "ECOM",
    "source": "Postman Test",
    "settled": false,
    "settlementDate": null,
    "allowedProducts": null,
    "product": "ratepay-invoice",
    "transactionType": "DEBIT",
    "meta": {
        "descriptor": "bdd23e80-3d83-4111-814a-5fbf89d3b6b7",
        "riskIdentId": "rpRiskIdentId_1550657294",
        "preferredLanguage": "en"
    },
    "async": null,
    "deviceIdent": null,
    "asyncNotificationSubscriptionId": null,
    "redirectUrl": null
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<h4>Step 3: Refund for RatePAY Direct Debit orders</h4>
	<br/>
	<p>
		A 'Refund' transaction can be created on a request of end-customer when there is existing successful 'Debit' or 'Capture' transaction for the order.
	</p>
	<br/>
	<p>
		RatePAY Invoice payment method enables full and partial refund of the initial amount of the order.
	</p>
	<br/>
	<p><strong><u>Create Refund</u></strong></p>
	<br/>
	<p>
		Examples for <i>Create Refund</i> request and <i>Create Refund</i> response can be found below:
	</p>
	<br/>
	<p>
		POST/orders/{orderId}/transactions/{transactionId}/refund
	</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Refund request
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
  "description": "description for operation.",
  "initialAmount": 20000,
  "currency": "EUR",
  "basket": [
    {
            "articleNumber": "SW10029",
            "name": "USB-Stick",
            "quantity": 1,
            "tax": 0,
            "totalPrice": 20000,
            "totalPriceWithTax": 20000,
            "unitPrice": 20000,
            "unitPriceWithTax": 20000
        }
  ]
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Create Refund response
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
    "createdAt": 1550474048671,
    "modifiedAt": 1550474049591,
    "type": "REFUND",
    "transactionId": "transaction_clt9tnoi10",
    "description": "description for operation.",
    "initialAmount": 20000,
    "currency": "EUR",
    "status": "SUCCESS",
    "order": {
        "createdAt": 1550474032837,
        "modifiedAt": 1550474049590,
        "merchantId": "Merchant-11111111-1111-1111-1111-111111111111",
        "terms": 1468590412476,
        "privacy": 1468590412476,
        "orderId": "08kkun6st7",
        "merchantOrderId": "merchantOrderId_27579424",
        "paymentProviderTransactionId": "27-2019021811719522",
        "description": "RP IV",
        "statementDescription": "RP IV",
        "initialAmount": 20000,
        "preauthorizedAmount": 20000,
        "capturedAmount": 20000,
        "refundedAmount": 20000,
        "canceledAmount": 0,
        "currency": "EUR",
        "basket": [
            {
                "id": "Article-bbf6193b-8d80-4da2-8d86-c67885918ee2",
                "name": "USB-Stick",
                "articleNumber": "SW10029",
                "totalPrice": 20000,
                "totalPriceWithTax": 20000,
                "unitPrice": 20000,
                "unitPriceWithTax": 20000,
                "quantity": 1,
                "tax": 0,
                "discount": null,
                "imageUrl": null,
                "articleUrl": null,
                "articleType": null
            }
        ],
        "customer": {
            "merchantCustomerId": "merchantCustomerId_1550234971",
            "organizationRegistrationRegister": null,
            "organizationRegistrationId": null,
            "organizationEntityType": null,
            "organizationVatId": null,
            "companyName": null,
            "reference": null,
            "email": "1550234971@payengine-test.de",
            "customerId": "customer_dqxhzzqulh",
            "addresses": [],
            "personas": [],
            "paymentInstruments": [],
            "createdAt": 1550234971184,
            "modifiedAt": 1550234971184,
            "customerType": null
        },
        "persona": {
            "personaId": "persona_2gmxry7es4",
            "firstName": "John",
            "lastName": "Doe",
            "phone": "00493012345",
            "mobile": "00493012345",
            "fax": "00493012345",
            "birthday": 358293600000,
            "gender": "MALE",
            "title": "Prof. Dr.",
            "createdAt": 1550234978127,
            "modifiedAt": 1550234978127
        },
        "billingAddress": {
            "firstName": "John",
            "lastName": "Doe",
            "street": "Musterweg",
            "houseNumber": "431353614",
            "city": "Musterhausen",
            "zip": "55555",
            "country": "DE",
            "state": "Bayern",
            "phone": "00493012345",
            "fax": "00493012345",
            "mobile": "00493012345",
            "title": "Prof. Dr.",
            "additionalDetails": "premium buyer",
            "addressId": "address_ytwrpphiqj",
            "createdAt": 1550234975370,
            "modifiedAt": 1550234975370
        },
        "shippingAddress": {
            "firstName": "John",
            "lastName": "Doe",
            "street": "Musterweg",
            "houseNumber": "431353614",
            "city": "Musterhausen",
            "zip": "55555",
            "country": "DE",
            "state": "Bayern",
            "phone": "00493012345",
            "fax": "00493012345",
            "mobile": "00493012345",
            "title": "Prof. Dr.",
            "additionalDetails": "premium buyer",
            "addressId": "address_ytwrpphiqj",
            "createdAt": 1550234975370,
            "modifiedAt": 1550234975370
        },
        "ipAddress": "82.120.21.79",
        "paymentInstrument": {
            "createdAt": 1550474032820,
            "modifiedAt": 1550474032820,
            "paymentInstrumentId": "paymentinstrument_8m7ix4xcou",
            "merchantPaymentInstrumentId": null,
            "attributes": {
                "persona": {
                    "firstName": "John",
                    "lastName": "Doe",
                    "phone": "00493012345",
                    "fax": "00493012345",
                    "mobile": "00493012345",
                    "birthday": 358293600000,
                    "gender": "MALE",
                    "title": "Prof. Dr.",
                    "handler": {},
                    "hibernateLazyInitializer": {}
                }
            },
            "encrypted": false,
            "origin": "ratepay-invoice",
            "type": "bank-transfer",
            "recurring": false,
            "recurringConsent": null
        },
        "transactions": [
            {
                "createdAt": 1550474032841,
                "modifiedAt": 1550474034478,
                "type": "DEBIT",
                "transactionId": "transaction_i2pjcpvzpe",
                "description": "RP IV",
                "initialAmount": 20000,
                "refundedAmount": 20000,
                "currency": "EUR",
                "status": "SUCCESS",
                "order": "08kkun6st7",
                "parentTransaction": null,
                "transactions": [
                    "transaction_clt9tnoi10"
                ],
                "basket": [
                    {
                        "id": "Article-bbf6193b-8d80-4da2-8d86-c67885918ee2",
                        "name": "USB-Stick",
                        "articleNumber": "SW10029",
                        "totalPrice": 20000,
                        "totalPriceWithTax": 20000,
                        "unitPrice": 20000,
                        "unitPriceWithTax": 20000,
                        "quantity": 1,
                        "tax": 0,
                        "discount": null,
                        "imageUrl": null,
                        "articleUrl": null,
                        "articleType": null
                    }
                ],
                "providerCode": null,
                "merchantMessage": null,
                "customerMessage": null,
                "descriptor": null,
                "meta": null,
                "challenge": null,
                "asyncNotificationSubscriptionId": null,
                "tracking": []
            }
        ],
        "status": "CLOSED",
        "channel": "ECOM",
        "source": "Postman Test",
        "settled": false,
        "settlementDate": null,
        "allowedProducts": [],
        "product": "ratepay-invoice",
        "transactionType": "DEBIT",
        "meta": {
            "descriptor": "DK0162003K6",
            "riskIdentId": "rpRiskIdentId_1550474033",
            "preferredLanguage": "en"
        },
        "async": null,
        "deviceIdent": null,
        "asyncNotificationSubscriptionId": null
    },
    "parentTransaction": {
        "createdAt": 1550474032841,
        "modifiedAt": 1550474034478,
        "type": "DEBIT",
        "transactionId": "transaction_i2pjcpvzpe",
        "description": "RP IV",
        "initialAmount": 20000,
        "refundedAmount": 20000,
        "currency": "EUR",
        "status": "SUCCESS",
        "order": {
            "createdAt": 1550474032837,
            "modifiedAt": 1550474049590,
            "merchantId": "Merchant-11111111-1111-1111-1111-111111111111",
            "terms": 1468590412476,
            "privacy": 1468590412476,
            "orderId": "08kkun6st7",
            "merchantOrderId": "merchantOrderId_27579424",
            "paymentProviderTransactionId": "27-2019021811719522",
            "description": "RP IV",
            "statementDescription": "RP IV",
            "initialAmount": 20000,
            "preauthorizedAmount": 20000,
            "capturedAmount": 20000,
            "refundedAmount": 20000,
            "canceledAmount": 0,
            "currency": "EUR",
            "basket": [
                {
                    "id": "Article-bbf6193b-8d80-4da2-8d86-c67885918ee2",
                    "name": "USB-Stick",
                    "articleNumber": "SW10029",
                    "totalPrice": 20000,
                    "totalPriceWithTax": 20000,
                    "unitPrice": 20000,
                    "unitPriceWithTax": 20000,
                    "quantity": 1,
                    "tax": 0,
                    "discount": null,
                    "imageUrl": null,
                    "articleUrl": null,
                    "articleType": null
                }
            ],
            "customer": {
                "merchantCustomerId": "merchantCustomerId_1550234971",
                "organizationRegistrationRegister": null,
                "organizationRegistrationId": null,
                "organizationEntityType": null,
                "organizationVatId": null,
                "companyName": null,
                "reference": null,
                "email": "1550234971@payengine-test.de",
                "customerId": "customer_dqxhzzqulh",
                "addresses": [],
                "personas": [],
                "paymentInstruments": [],
                "createdAt": 1550234971184,
                "modifiedAt": 1550234971184,
                "customerType": null
            },
            "persona": {
                "personaId": "persona_2gmxry7es4",
                "firstName": "John",
                "lastName": "Doe",
                "phone": "00493012345",
                "mobile": "00493012345",
                "fax": "00493012345",
                "birthday": 358293600000,
                "gender": "MALE",
                "title": "Prof. Dr.",
                "createdAt": 1550234978127,
                "modifiedAt": 1550234978127
            },
            "billingAddress": {
                "firstName": "John",
                "lastName": "Doe",
                "street": "Musterweg",
                "houseNumber": "431353614",
                "city": "Musterhausen",
                "zip": "55555",
                "country": "DE",
                "state": "Bayern",
                "phone": "00493012345",
                "fax": "00493012345",
                "mobile": "00493012345",
                "title": "Prof. Dr.",
                "additionalDetails": "premium buyer",
                "addressId": "address_ytwrpphiqj",
                "createdAt": 1550234975370,
                "modifiedAt": 1550234975370
            },
            "shippingAddress": {
                "firstName": "John",
                "lastName": "Doe",
                "street": "Musterweg",
                "houseNumber": "431353614",
                "city": "Musterhausen",
                "zip": "55555",
                "country": "DE",
                "state": "Bayern",
                "phone": "00493012345",
                "fax": "00493012345",
                "mobile": "00493012345",
                "title": "Prof. Dr.",
                "additionalDetails": "premium buyer",
                "addressId": "address_ytwrpphiqj",
                "createdAt": 1550234975370,
                "modifiedAt": 1550234975370
            },
            "ipAddress": "82.120.21.79",
            "paymentInstrument": {
                "createdAt": 1550474032820,
                "modifiedAt": 1550474032820,
                "paymentInstrumentId": "paymentinstrument_8m7ix4xcou",
                "merchantPaymentInstrumentId": null,
                "attributes": {
                    "persona": {
                        "firstName": "John",
                        "lastName": "Doe",
                        "phone": "00493012345",
                        "fax": "00493012345",
                        "mobile": "00493012345",
                        "birthday": 358293600000,
                        "gender": "MALE",
                        "title": "Prof. Dr.",
                        "handler": {},
                        "hibernateLazyInitializer": {}
                    }
                },
                "encrypted": false,
                "origin": "ratepay-invoice",
                "type": "bank-transfer",
                "recurring": false,
                "recurringConsent": null
            },
            "transactions": [
                "transaction_i2pjcpvzpe"
            ],
            "status": "CLOSED",
            "channel": "ECOM",
            "source": "Postman Test",
            "settled": false,
            "settlementDate": null,
            "allowedProducts": [],
            "product": "ratepay-invoice",
            "transactionType": "DEBIT",
            "meta": {
                "descriptor": "DK0162003K6",
                "riskIdentId": "rpRiskIdentId_1550474033",
                "preferredLanguage": "en"
            },
            "async": null,
            "deviceIdent": null,
            "asyncNotificationSubscriptionId": null
        },
        "parentTransaction": null,
        "transactions": [
            "transaction_clt9tnoi10"
        ],
        "basket": [
            {
                "id": "Article-bbf6193b-8d80-4da2-8d86-c67885918ee2",
                "name": "USB-Stick",
                "articleNumber": "SW10029",
                "totalPrice": 20000,
                "totalPriceWithTax": 20000,
                "unitPrice": 20000,
                "unitPriceWithTax": 20000,
                "quantity": 1,
                "tax": 0,
                "discount": null,
                "imageUrl": null,
                "articleUrl": null,
                "articleType": null
            }
        ],
        "providerCode": null,
        "merchantMessage": null,
        "customerMessage": null,
        "descriptor": null,
        "meta": null,
        "challenge": null,
        "asyncNotificationSubscriptionId": null,
        "tracking": []
    },
    "transactions": null,
    "basket": [
        {
            "id": "Article-10684e27-3682-47f4-9645-4d2cfb087d81",
            "name": "USB-Stick",
            "articleNumber": "SW10029",
            "totalPrice": 20000,
            "totalPriceWithTax": 20000,
            "unitPrice": 20000,
            "unitPriceWithTax": 20000,
            "quantity": 1,
            "tax": 0,
            "discount": null,
            "imageUrl": null,
            "articleUrl": null,
            "articleType": null
        }
    ],
    "providerCode": null,
    "merchantMessage": null,
    "customerMessage": null,
    "descriptor": null,
    "meta": null,
    "challenge": null,
    "asyncNotificationSubscriptionId": null,
    "tracking": null
}
				</code>
			</div>
		</div>
	</div>

	<h2>Discounts Handling</h2>
	<br/>
	<p>
		There are two major categories of discounts which have to be reflected in API requests as follows:
	</p>
	<br/>
	<ul>
		<li><strong><u>Discounts not related to a particular product basket item</u></strong></li>
	</ul>
	<br/>
	<p>
		This type of discount is presented in API calls as a separate basket item with structure identical to structure of product basket item which is shown below.
	</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Structure of Separate Basket Item Discount
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
   "name":"discount",
   "articleNumber":"0000"
   "articleType "discount"
   "totalPrice":-84,
   "totalPriceWithTax":-100,
   "unitPrice":-84,
   "unitPriceWithTax":-100,
   "tax":19,
   "quantity":1
   "discount":0
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<p>
		The total value of discount can be found in the field <strong>totalPriceWithTax</strong> and represents unitPriceWithTax multiplied by quantity.
	</p>
	<br/>
	<p>
		Separate basket item discount can be used by the merchants for reflecting of value discounts in the form of gift vouchers, coupons or similar items measurable in money and not tied to a particular product basket item.
	</p>
	<br/>
	<ul>
		<li><strong><u>Discounts related to a particular product basket item</u></strong></li>
	</ul>
	<br/>
	<p>
		This type of discount is presented in API calls as a property within product basket item. The value of discount property represents discount amount with taxes <strong>for one item</strong>.
	</p>
	<br/>
	<p>
		An example for discount property can be found below.
	</p>
	<br/>
	<div class="example-box-wrapper">
		<div class="content-box" ng-init="createCustomerRequestShow=false">
			<h3 class="content-box-header bg-default">
					Discount Property
					<div class="header-buttons-separator">
							<a href class="icon-separator toggle-button" ng-click="createCustomerRequestShow!=createCustomerRequestShow; console.log(createCustomerRequestShow)">
								<!-- <i class="glyph-icon icon-chevron-up"></i> -->
								<i class="glyph-icon icon-chevron-up" ng-if="createCustomerRequestShow"></i>
								<i class="glyph-icon icon-chevron-down" ng-if="!createCustomerRequestShow"></i>
							</a>
					</div>
			</h3>
			<!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
			<div class="content-box-wrapper">
				<code>
{
   "name":"socks",
   "articleNumber":"1234"
   "articleType "physical"
   "totalPrice":1000,
   "totalPriceWithTax":1190,
   "unitPrice":500,
   "unitPriceWithTax":595,
   "tax":19,
   "quantity":2,
   "discount":-100
}
				</code>
			</div>
		</div>
	</div>
	<br/>
	<p>
		The total value of discount tied to a particular product basket item is equal to shown discount amount in the property field multiplied by quantity of product basket item.
	</p>
	<br/>
	<p>
		For example above the total value of discount presented as property will be -100 * 2 = -200
	</p>
	<br/>
	<p>
		Applying of discounts directly affects initial amount in requests for Authorizing transactions. Correct Initial amount of the transaction has to be calculated as a difference between the following three elements:
	<ul>
		<li>total price with tax of product basket item/s</li>
		<li>property discount for the particular product basket item multiplied by quantity of the item</li>
		<li>separate basket item discount </li>
	</ul>
	</p>
	<br/>
	<br/>
	<h2>Testing</h2>
	<br/>
	<p>
		Testing of RatePAY Invoice payment method can be executed directly via RatePAY Sandbox.
	</p>
	<br/>
	<p>
		The RatePAY Sandbox is a self-contained virtual testing environment that mimics the live RatePAY production environment.
	</p>
	<br/>
	<p>
		Test credentials for RatePAY Sandbox can be received from RatePAY GmbH.
	</p>
