 <p>A notifications tool allows to merchant to receive notifications about multiple events in the system. Notifications can be sent to e-mail or specific url.</p>

 <ul>
   <li><a href="/notifications/notifications_api#introduction" name="">Introduction</a></li>
   <li><a href="/notifications/notifications_api#types" name="">Notification Types</a></li>
   <ul>
     <li><a href="/notifications/notifications_api#webhook" name="">Webhook (URL) Notifications</a></li>
     <ul>
       <li><a href="/notifications/notifications_api#validationOfNotifications" name="">Validation of Notifications</a></li>
     </ul>
     <li><a href="/notifications/notifications_api#email" name="">Email Notifications</a></li>
   </ul>
   <li><a href="/notifications/notifications_api#subscription" name="">Subscription</a></li>
   <ul>
     <li><a href="/notifications/notifications_api#subscriptionViaMerchantCenter" name="">Subscription via Merchant Center</a></li>
     <li><a href="/notifications/notifications_api#subscriptionViaAPI" name="">Subscription via API</a></li>
   </ul>
   <li><a href="/notifications/notifications_api#retryMechanism" name="">Retry Mechanism</a></li>
   <li><a href="/notifications/notifications_api#notificationVersion1" name="">Notification Version 1.0</a></li>
   <ul>
     <li><a href="/notifications/notifications_api#events" name="">Events</a></li>
     <li><a href="/notifications/notifications_api#format" name="">Format</a></li>
     <li><a href="/notifications/notifications_api#subscriptionViaAPI2" name="">Subscription via API</a></li>
   </ul>
   <li><a href="/notifications/notifications_api#notificationVersion2" name="">Notification Version 2.0</a></li>
   <ul>
      <li><a href="/notifications/notifications_api#events2" name="">Events</a></li>
      <li><a href="/notifications/notifications_api#format2" name="">Format</a></li>
      <ul>
        <li><a href="/notifications/notifications_api#webhook2" name="">Webhook</a></li>
        <ul>
          <li><a href="/notifications/notifications_api#transactionParameter2" name="">Transaction Parameter</a></li>
          <li><a href="/notifications/notifications_api#3DSParameter2" name="">3DS Parameter</a></li>
        </ul>
        <li><a href="/notifications/notifications_api#email2" name="">Email</a></li>
      </ul>
      <li><a href="/notifications/notifications_api#subscriptionViaAPI3" name="">Subscription via API</a></li>
    </ul>
 </ul>

 <div id="introduction">
   <br/>
   <br/>
   <h2>Introduction</h2>
   <br/>
   <p>The main purpose of notifications is to inform integrated backend systems properly when specific events or updates occur within a payment process.</p>
   <br/>
   <p>Notifications are highly recommended for all asynchronous payment methods where further actions from end customer are required. For synchronous payment methods notifications are possible but not critical from a security perspective.
   </p>
</div>

<div id="types">
  <br/>
  <br/>
  <h2>Notification Types</h2>
  <br/>
  <p>There are two types of notifications, depending on the way in which a integrator is notified for a particular event or a set of events - webhook (URL) notifications and email notifications. </p>
  <br/>
  <h3 id="webhook">Webhook (URL) Notifications</h3>
  <br/>
  <p>Webhooks are notifications that deliver event information directly to an integrator's system by calling a script hosted on the integrator's server.</p>
  <br/>
  <br/>
  <p>Webhooks are sent as HTTP POST requests on a given URI.</p>
  <br/>
  <p>The accepted ports for HTTPS are 80, 8080 and 443. Receiving notifications via HTTPS is highly recommended from a security perspective.</p>
  <br/>
  <p>To receive webhooks via HTTPS a valid SSL certificate must be in place.</p>
  <br/>
  <br/>
  <p>The format of the webhook notifications depends on the version that will be used.<br/>For more information, see the specific notification version sections below.
  </p>
  <br/>
  <p><strong><u>NOTE</u></strong> Integrators have to validate the notifications they have received. </p>
  <br/>
  <br/>
  <h4 id="validationOfNotifications">Validation of Notifications</h4>
  <br/>
  <p>Integrators can validate a webhook notification by sending the received notification content without modifying the Payengine notification validation URL.</p>
  <br/>
  <p>Payengine notification validation URLs in Sandbox and live environment:</p>
  <br/>
  <table class="table table-bordered table-striped table-condensed" width="500px;">
    <thead>
      <tr>
        <th  width="100px;">Environment</th>
        <th  >URL</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Sandbox</td>
        <td><a href="https://apitest.payengine.de/notifications/validate?address=yourUrlencodedNotificationUrn">https://apitest.payengine.de/notifications/validate?address=yourUrlencodedNotificationUrn</a></td>
      </tr>
      <tr>
        <td>Live</td>
        <td><a href="https://api.payengine.de/notifications/validate?address=yourUrlencodedNotificationUrn">https://api.payengine.de/notifications/validate?address=yourUrlencodedNotificationUrn</a></td>
      </tr>
    </tbody>
  </table>
  <br/>
  <p>Integrators must use the POST method for validation requests where the POST body should contain the notification content as received.</p>
  <br/>
  <p>Integrators will receive one of the following responses of the validation request they sent:</p>
  <br/>
  <ul>
    <li>"VALIDATED" - when the notification content can be verified for the notification URNs.</li>
    <li>"INVALID" - when notification content cannot be verified for the notification URNs.</li>
  </ul>
  <br/>
  <table border="1px solid black" class="table table-bordered table-striped table-condensed" >
    <tbody>
      <tr>
        <td style="border-right: none;" ><img class="" src="/img/3dsecure/error-triangle.png" width="16px"></td>
        <td>
          <p><strong>Important</strong></p><br/>
          <p>When the formatting is incorrect, Payengine might not be able to validate notifications.</p>
          <br/>
          <br/>
          <p>The reason for such validation errors can be:</p>
          <ul>
            <li>Whitespace changes, reformatting or similar actions, in cases of deserialization and serialization before validation;</li>
            <li>Changes of the line endings;</li>
            <li>Validating notifications prior to responding to Concardis with HTTP 200;</li>
            <li>Sending address parameter in POST URL not URL-encoded.</li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
  <br/>
  <h3 id="email">Email Notifications</h3>
  <br/>
  <p>Email notifications enable an integrator to be notified for a specific event or multiple events by receiving an email to a specified email address.</p>
  <br/>
  <p>Email notifications are sent from <a href="mailto:no-reply@payengine.de">no-reply@payengine.de</a> and the content depends on the version that will be used.</p>
  <p>For more details, see the <a hreh="">Notification Version</a> section below.</p>
  <br/>
  </div>
<br/>
<div id="subscription">
  <br/>
  <h2>Subscription</h2>
  <br/>
  <p>To activate webhook or email notifications, the integrator must subscribe for notifications on an event level.</p>
  <br/>
  <p>You can subscribe for notifications directly via API within an order - related request, or via configuration in the Merchant Center.</p>
  <br/>
  <h3 id="subscriptionViaMerchantCenter">Subscription via Merchant Center</h3>
  <br/>
  <p>For more specific instructions on how to subscribe for notifications via Merchant Center, see <a href="/notifications/notifications_mc">Merchant Center Notifications</a>.</p>
  <br/>
  <br/>
  <h3 id="subscriptionViaAPI">Subscription via API</h3>
  <br/>
  <p>You can subscribe for notifications via API for all payment methods, regardless of the technical flow type (synchronous or asynchronous).</p>
  <br/>
  <br/>
  <p>You can subscribe for notifications via API, using the <em>async.notifications</em> object within the <em>preauth</em> or <em>debit</em> request.</p>
  <br/>
  <p>The required parameters depend on the notification version, referenced in the Notification Version 1.0 or Notification Version 2.0 subsections.</p>
  <br/>
</div>
<br/>
<div id="retryMechanism">
  <br/>
  <h2>Retry Mechanism</h2>
  <br/>
  <p>To sucessfully receive notifications for subscribed events is underpinned by Payengine retry mechanism.</p>
  <br/>
  <p>The retry mechanism is applicable for webhook and email notifications, and covers three tiers of attempts to send a notification:</p>
  <br/>
  <br/>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th  >Number of Tier</th>
        <th  >Number of Attempts</th>
        <th  >Delay Between Sent Attempts in Milliseconds</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Tier 1</td>
        <td>5</td>
        <td>10000</td>
      </tr>
      <tr>
        <td>Tier 2</td>
        <td>5</td>
        <td>60000</td>
      </tr>
      <tr>
        <td>Tier 3</td>
        <td>5</td>
        <td>600000</td>
      </tr>
    </tbody>
  </table>
  <br/>
  <p>When the server responsible for receiving a notification is down, a retry attempt will be executed. Depending on its number, the retry attempt will be executed with a predefined delay, specific for each tier of retries.</p>
  <br/>
  <p>The total number of retry attempts for a notification is 16 which is the total of all attempts from all tiers and one additional attempt. </p>
</div>
<br/>
<div id="notificationVersion1">
  <br/>
  <h2>Notification Version 1.0</h2>
  <br/>
  <p>Notification Version 1.0 is the initial version of notifications implemented within Payengine. While this version is still supported and used, it can be regarded as depricated.</p>
  <br/>
  <p>We <strong>highly recommend</strong> the implementation of Notification Version 2.0 which offers a simplified message format for webhooks and especially for email notifications.</p>
  <br/>
  <h3 id="events">Events</h3>
  <br/>
  <p>The following events are supported with Notification version 1.0:</p>
  <br/>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th style="text-align: center;">Category</th>
        <th style="text-align: center;">Event</th>
        <th style="text-align: center;">Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td rowspan="4">Transaction Events</td>
        <td>transaction create success</td>
        <td>A transaction has been created successfully</td>
      </tr>
      <tr>
        <td>transaction create failure </td>
        <td>Creating a transaction has failed</td>
      </tr>
      <tr>
        <td>transaction update success </td>
        <td>A transaction has been updated successfully</td>
      </tr>
      <tr>
        <td>transaction update failure</td>
        <td>Updating a transaction has failed</td>
      </tr>

      <tr>
        <td rowspan="14">Customer Events</td>
        <td>customer update success</td>
        <td>A customer object has been updated successfully</td>
      </tr>
      <tr>
        <td>customer update failure</td>
        <td>Updating a customer object has failed</td>
      </tr>
      <tr>
        <td>customer persona create success</td>
        <td>An object persona for a customer has been created successfully</td>
      </tr>
      <tr>
        <td>customer persona create failure</td>
        <td>Creating an object persona for a customer has failed</td>
      </tr>
      <tr>
        <td>customer persona duplicate success</td>
        <td>All parameters of an object persona for a customer have been duplicated successfully</td>
      </tr>
      <tr>
        <td>customer paymentInstrument add success</td>
        <td>An object payment instrument has been added successfully for a customer</td>
      </tr>
      <tr>
        <td>customer paymentInstrument add failure</td>
        <td>Adding an object payment instrument for a customer has failed</td>
      </tr>
      <tr>
        <td>customer paymentInstrument delete success</td>
        <td>An object payment instrument for a customer has been deleted successfully</td>
      </tr>
      <tr>
        <td>customer paymentInstrument delete failure</td>
        <td>Deleting an object payment instrument for a customer has failed</td>
      </tr>
      <tr>
        <td>customer address create success</td>
        <td>An object address of a customer has been created successfully</td>
      </tr>
      <tr>
        <td>customer address create failure</td>
        <td>Creating an object address of a customer has failed</td>
      </tr>
      <tr>
        <td>customer address duplicate success</td>
        <td>All parameters of an object address for a customer have been duplicated successfully</td>
      </tr>
      <tr>
        <td>customer create success</td>
        <td>A customer object has been created successfully</td>
      </tr>
      <tr>
        <td>customer create failure</td>
        <td>Creating a customer object has failed</td>
      </tr>
      <tr>
        <td rowspan="3">Payment Instrument Events</td>
        <td>paymentInstrument create success</td>
        <td>A payment instrument (not bounded to a customer) has been created successfully</td>
      </tr>
      <tr>
        <td>paymentInstrument create failure</td>
        <td>Creating a payment instrument has failed</td>
      </tr>
      <tr>
        <td>paymentInstrument expires</td>
        <td>A payment instrument has expired</td>
      </tr>
      <tr>
        <td rowspan="4">Order Events</td>
        <td>order create success</td>
        <td>An order has been created successfully</td>
      </tr>
      <tr>
        <td>order create failure</td>
        <td>Creating an order has failed</td>
      </tr>
      <tr>
        <td>order update success</td>
        <td>An order has been updated successfully</td>
      </tr>
      <tr>
        <td>order update failure	</td>
        <td>Updating an order has failed</td>
      </tr>
    </tbody>
  </table>
  <br/>
  <br/>
  <h3 id="format">Format</h3>
  <br/>
  <p>The content will be presented are JSON objects, inline with the formatting and requirements, known to the Payengine REST API.</p>
  <br/>
  <p>There is no difference between webhook or email notifications, both use the JSON format.</p>
  <br/>
  <div>
      <div class="example-box-wrapper">
          <div class="content-box" ng-init="createCustomerResponseShow=false">
            <h3 class="content-box-header bg-default">
              Sample webhook notification
              <div class="header-buttons-separator">
                <a href class="icon-separator toggle-button" ng-click="createCustomerResponseShow!=createCustomerResponseShow; console.log(createCustomerResponseShow)">
                  <!-- <i class="glyph-icon icon-chevron-up"></i> -->
                  <i class="glyph-icon icon-chevron-up" ng-if="createCustomerResponseShow"></i>
                  <i class="glyph-icon icon-chevron-down" ng-if="!createCustomerResponseShow"></i>
                </a>
              </div>
            </h3>
            <!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
            <div class="content-box-wrapper">
              <code>
      {
      "notificationApiVersion": "1.0",
      "createdAt": 1534959158570,
      "payload": {
      "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4",
      "oldObject": {
       "createdAt": 1534959146317,
       "modifiedAt": 1534959146528,
       "type": "DEBIT",
       "transactionId": "transaction_iwyuo0f6tx",
       "description": "test transaction",
       "initialAmount": 1190,
       "refundedAmount": 0,
       "currency": "EUR",
       "status": "PENDING",
       "order": {
        "createdAt": 1534959146283,
        "modifiedAt": 1534959146537,
        "merchantId": "merchant_0aayx2msk6",
        "terms": 1468590412476,
        "privacy": 1468590412476,
        "orderId": "kx1o5nhwwd",
        "merchantOrderId": "fUHM2c3BgF",
        "paymentProviderTransactionId": "74766-159895-5B7D9E2A-A099",
        "description": "test transaction",
        "statementDescription": "statement description",
        "initialAmount": 1190,
        "preauthorizedAmount": 0,
        "capturedAmount": 0,
        "refundedAmount": 0,
        "canceledAmount": 0,
        "currency": "EUR",
        "basket": [{
         "id": "Article-a8c729ec-2884-442e-90cf-7d24f8b8ba2e",
         "name": "USB-Stick",
         "articleNumber": "SW10029",
         "totalPrice": 1000,
         "totalPriceWithTax": 1190,
         "unitPrice": 100,
         "unitPriceWithTax": 119,
         "quantity": 10,
         "tax": 19,
         "discount": null
        }],
        "customer": {
         "merchantCustomerId": "OHXvaW0ZEA",
         "email": "alekapkcnj@payengine-test.de",
         "customerId": "customer_v8uilepnoc",
         "addresses": [{
          "firstName": "Max",
          "lastName": "Muster",
          "street": "Musterweg",
          "houseNumber": "1",
          "city": "Musterhausen",
          "zip": "12345",
          "country": "DE",
          "state": "Bayern",
          "phone": "00493012345",
          "fax": "00493012345",
          "mobile": "00493012345",
          "title": "Prof. Dr.",
          "additionalDetails": "premium buyer",
          "addressId": "address_pmpfmqbrhq",
          "createdAt": 1534856225566,
          "modifiedAt": 1534856225566
         }],
         "personas": [{
          "personaId": "persona_sbeocysetl",
          "firstName": "Max",
          "lastName": "Muster",
          "phone": "00493012345",
          "mobile": "00493012345",
          "fax": "00493012345",
          "birthday": 358293600000,
          "gender": "MALE",
          "title": "Prof. Dr.",
          "createdAt": 1534856225985,
          "modifiedAt": 1534856225985
         }],
         "paymentInstruments": [{
          "createdAt": 1534959146280,
          "modifiedAt": 1534959146280,
          "paymentInstrumentId": "paymentinstrument_juz0k0agpa",
          "merchantPaymentInstrumentId": null,
          "attributes": null,
          "encrypted": false,
          "origin": "sofort",
          "type": "sepa",
          "recurring": false
         }],
         "createdAt": 1534959144250,
         "modifiedAt": 1534959144250
        },
        "persona": {
         "personaId": "persona_sbeocysetl",
         "firstName": "Max",
         "lastName": "Muster",
         "phone": "00493012345",
         "mobile": "00493012345",
         "fax": "00493012345",
         "birthday": 358293600000,
         "gender": "MALE",
         "title": "Prof. Dr.",
         "createdAt": 1534856225985,
         "modifiedAt": 1534856225985
        },
        "billingAddress": {
         "firstName": "Max",
         "lastName": "Muster",
         "street": "Musterweg",
         "houseNumber": "1",
         "city": "Musterhausen",
         "zip": "12345",
         "country": "DE",
         "state": "Bayern",
         "phone": "00493012345",
         "fax": "00493012345",
         "mobile": "00493012345",
         "title": "Prof. Dr.",
         "additionalDetails": "premium buyer",
         "addressId": "address_pmpfmqbrhq",
         "createdAt": 1534856225566,
         "modifiedAt": 1534856225566
        },
        "shippingAddress": {
         "firstName": "Max",
         "lastName": "Muster",
         "street": "Musterweg",
         "houseNumber": "1",
         "city": "Musterhausen",
         "zip": "12345",
         "country": "DE",
         "state": "Bayern",
         "phone": "00493012345",
         "fax": "00493012345",
         "mobile": "00493012345",
         "title": "Prof. Dr.",
         "additionalDetails": "premium buyer",
         "addressId": "address_pmpfmqbrhq",
         "createdAt": 1534856225566,
         "modifiedAt": 1534856225566
        },
        "ipAddress": "82.120.21.79",
        "paymentInstrument": {
         "createdAt": 1534959146280,
         "modifiedAt": 1534959146280,
         "paymentInstrumentId": "paymentinstrument_juz0k0agpa",
         "merchantPaymentInstrumentId": null,
         "attributes": null,
         "encrypted": false,
         "origin": "sofort",
         "type": "sepa",
         "recurring": false
        },
        "transactions": ["transaction_iwyuo0f6tx"],
        "status": "OPEN",
        "channel": "ECOM",
        "source": "Postman Test",
        "settled": false,
        "settlementDate": null,
        "allowedProducts": [],
        "product": "sofort",
        "transactionType": "DEBIT",
        "meta": null,
        "async": null,
        "deviceIdent": null,
        "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4",
        "redirectUrl": "https://public-api-app54te.psp.cardtech.de/order/sofort/1.0/redirect/transaction_iwyuo0f6tx"
       },
       "parentTransaction": null,
       "transactions": null,
       "basket": [{
        "id": "Article-a8c729ec-2884-442e-90cf-7d24f8b8ba2e",
        "name": "USB-Stick",
        "articleNumber": "SW10029",
        "totalPrice": 1000,
        "totalPriceWithTax": 1190,
        "unitPrice": 100,
        "unitPriceWithTax": 119,
        "quantity": 10,
        "tax": 19,
        "discount": null
       }],
       "providerCode": null,
       "merchantMessage": null,
       "customerMessage": null,
       "descriptor": null,
       "meta": null,
       "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4"
      },
      "newObject": {
       "createdAt": 1534959146317,
       "modifiedAt": 1534959146528,
       "type": "DEBIT",
       "transactionId": "transaction_iwyuo0f6tx",
       "description": "test transaction",
       "initialAmount": 1190,
       "refundedAmount": 0,
       "currency": "EUR",
       "status": "IN_PROGRESS",
       "order": {
        "createdAt": 1534959146283,
        "modifiedAt": 1534959146537,
        "merchantId": "merchant_0aayx2msk6",
        "terms": 1468590412476,
        "privacy": 1468590412476,
        "orderId": "kx1o5nhwwd",
        "merchantOrderId": "fUHM2c3BgF",
        "paymentProviderTransactionId": "74766-159895-5B7D9E2A-A099",
        "description": "test transaction",
        "statementDescription": "statement description",
        "initialAmount": 1190,
        "preauthorizedAmount": 0,
        "capturedAmount": 0,
        "refundedAmount": 0,
        "canceledAmount": 0,
        "currency": "EUR",
        "basket": [{
         "id": "Article-a8c729ec-2884-442e-90cf-7d24f8b8ba2e",
         "name": "USB-Stick",
         "articleNumber": "SW10029",
         "totalPrice": 1000,
         "totalPriceWithTax": 1190,
         "unitPrice": 100,
         "unitPriceWithTax": 119,
         "quantity": 10,
         "tax": 19,
         "discount": null
        }],
        "customer": {
         "merchantCustomerId": "OHXvaW0ZEA",
         "email": "alekapkcnj@payengine-test.de",
         "customerId": "customer_v8uilepnoc",
         "addresses": [{
          "firstName": "Max",
          "lastName": "Muster",
          "street": "Musterweg",
          "houseNumber": "1",
          "city": "Musterhausen",
          "zip": "12345",
          "country": "DE",
          "state": "Bayern",
          "phone": "00493012345",
          "fax": "00493012345",
          "mobile": "00493012345",
          "title": "Prof. Dr.",
          "additionalDetails": "premium buyer",
          "addressId": "address_pmpfmqbrhq",
          "createdAt": 1534856225566,
          "modifiedAt": 1534856225566
         }],
         "personas": [{
          "personaId": "persona_sbeocysetl",
          "firstName": "Max",
          "lastName": "Muster",
          "phone": "00493012345",
          "mobile": "00493012345",
          "fax": "00493012345",
          "birthday": 358293600000,
          "gender": "MALE",
          "title": "Prof. Dr.",
          "createdAt": 1534856225985,
          "modifiedAt": 1534856225985
         }],
         "paymentInstruments": [{
          "createdAt": 1534959146280,
          "modifiedAt": 1534959146280,
          "paymentInstrumentId": "paymentinstrument_juz0k0agpa",
          "merchantPaymentInstrumentId": null,
          "attributes": null,
          "encrypted": false,
          "origin": "sofort",
          "type": "sepa",
          "recurring": false
         }],
         "createdAt": 1534959144250,
         "modifiedAt": 1534959144250
        },
        "persona": {
         "personaId": "persona_sbeocysetl",
         "firstName": "Max",
         "lastName": "Muster",
         "phone": "00493012345",
         "mobile": "00493012345",
         "fax": "00493012345",
         "birthday": 358293600000,
         "gender": "MALE",
         "title": "Prof. Dr.",
         "createdAt": 1534856225985,
         "modifiedAt": 1534856225985
        },
        "billingAddress": {
         "firstName": "Max",
         "lastName": "Muster",
         "street": "Musterweg",
         "houseNumber": "1",
         "city": "Musterhausen",
         "zip": "12345",
         "country": "DE",
         "state": "Bayern",
         "phone": "00493012345",
         "fax": "00493012345",
         "mobile": "00493012345",
         "title": "Prof. Dr.",
         "additionalDetails": "premium buyer",
         "addressId": "address_pmpfmqbrhq",
         "createdAt": 1534856225566,
         "modifiedAt": 1534856225566
        },
        "shippingAddress": {
         "firstName": "Max",
         "lastName": "Muster",
         "street": "Musterweg",
         "houseNumber": "1",
         "city": "Musterhausen",
         "zip": "12345",
         "country": "DE",
         "state": "Bayern",
         "phone": "00493012345",
         "fax": "00493012345",
         "mobile": "00493012345",
         "title": "Prof. Dr.",
         "additionalDetails": "premium buyer",
         "addressId": "address_pmpfmqbrhq",
         "createdAt": 1534856225566,
         "modifiedAt": 1534856225566
        },
        "ipAddress": "82.120.21.79",
        "paymentInstrument": {
         "createdAt": 1534959146280,
         "modifiedAt": 1534959146280,
         "paymentInstrumentId": "paymentinstrument_juz0k0agpa",
         "merchantPaymentInstrumentId": null,
         "attributes": null,
         "encrypted": false,
         "origin": "sofort",
         "type": "sepa",
         "recurring": false
        },
        "transactions": ["transaction_iwyuo0f6tx"],
        "status": "OPEN",
        "channel": "ECOM",
        "source": "Postman Test",
        "settled": false,
        "settlementDate": null,
        "allowedProducts": [],
        "product": "sofort",
        "transactionType": "DEBIT",
        "meta": null,
        "async": null,
        "deviceIdent": null,
        "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4",
        "redirectUrl": "https://public-api-app54te.psp.cardtech.de/order/sofort/1.0/redirect/transaction_iwyuo0f6tx"
       },
       "parentTransaction": null,
       "transactions": null,
       "basket": [{
        "id": "Article-a8c729ec-2884-442e-90cf-7d24f8b8ba2e",
        "name": "USB-Stick",
        "articleNumber": "SW10029",
        "totalPrice": 1000,
        "totalPriceWithTax": 1190,
        "unitPrice": 100,
        "unitPriceWithTax": 119,
        "quantity": 10,
        "tax": 19,
        "discount": null
       }],
       "providerCode": null,
       "merchantMessage": null,
       "customerMessage": null,
       "descriptor": null,
       "meta": null,
       "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4"
      },
      "diff": [{
       "key": "status",
       "source": "PENDING",
       "target": "IN_PROGRESS"
      }]
      },
      "eventId": "68e67eb8-4649-4b60-b52c-06e156091154",
      "apiVersion": "v1",
      "ipAddress": "192.168.204.5",
      "globalTrackId": "W32eNrvUr-HQC74YV3ySBQAAAAU",
      "mode": "test",
      "type": "transaction.update.success",
      "notificationId": "notification_y6hfkz0dtm"
      }{
      "notificationApiVersion": "1.0",
      "createdAt": 1534959158570,
      "payload": {
      "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4",
      "oldObject": {
       "createdAt": 1534959146317,
       "modifiedAt": 1534959146528,
       "type": "DEBIT",
       "transactionId": "transaction_iwyuo0f6tx",
       "description": "test transaction",
       "initialAmount": 1190,
       "refundedAmount": 0,
       "currency": "EUR",
       "status": "PENDING",
       "order": {
        "createdAt": 1534959146283,
        "modifiedAt": 1534959146537,
        "merchantId": "merchant_0aayx2msk6",
        "terms": 1468590412476,
        "privacy": 1468590412476,
        "orderId": "kx1o5nhwwd",
        "merchantOrderId": "fUHM2c3BgF",
        "paymentProviderTransactionId": "74766-159895-5B7D9E2A-A099",
        "description": "test transaction",
        "statementDescription": "statement description",
        "initialAmount": 1190,
        "preauthorizedAmount": 0,
        "capturedAmount": 0,
        "refundedAmount": 0,
        "canceledAmount": 0,
        "currency": "EUR",
        "basket": [{
         "id": "Article-a8c729ec-2884-442e-90cf-7d24f8b8ba2e",
         "name": "USB-Stick",
         "articleNumber": "SW10029",
         "totalPrice": 1000,
         "totalPriceWithTax": 1190,
         "unitPrice": 100,
         "unitPriceWithTax": 119,
         "quantity": 10,
         "tax": 19,
         "discount": null
        }],
        "customer": {
         "merchantCustomerId": "OHXvaW0ZEA",
         "email": "alekapkcnj@payengine-test.de",
         "customerId": "customer_v8uilepnoc",
         "addresses": [{
          "firstName": "Max",
          "lastName": "Muster",
          "street": "Musterweg",
          "houseNumber": "1",
          "city": "Musterhausen",
          "zip": "12345",
          "country": "DE",
          "state": "Bayern",
          "phone": "00493012345",
          "fax": "00493012345",
          "mobile": "00493012345",
          "title": "Prof. Dr.",
          "additionalDetails": "premium buyer",
          "addressId": "address_pmpfmqbrhq",
          "createdAt": 1534856225566,
          "modifiedAt": 1534856225566
         }],
         "personas": [{
          "personaId": "persona_sbeocysetl",
          "firstName": "Max",
          "lastName": "Muster",
          "phone": "00493012345",
          "mobile": "00493012345",
          "fax": "00493012345",
          "birthday": 358293600000,
          "gender": "MALE",
          "title": "Prof. Dr.",
          "createdAt": 1534856225985,
          "modifiedAt": 1534856225985
         }],
         "paymentInstruments": [{
          "createdAt": 1534959146280,
          "modifiedAt": 1534959146280,
          "paymentInstrumentId": "paymentinstrument_juz0k0agpa",
          "merchantPaymentInstrumentId": null,
          "attributes": null,
          "encrypted": false,
          "origin": "sofort",
          "type": "sepa",
          "recurring": false
         }],
         "createdAt": 1534959144250,
         "modifiedAt": 1534959144250
        },
        "persona": {
         "personaId": "persona_sbeocysetl",
         "firstName": "Max",
         "lastName": "Muster",
         "phone": "00493012345",
         "mobile": "00493012345",
         "fax": "00493012345",
         "birthday": 358293600000,
         "gender": "MALE",
         "title": "Prof. Dr.",
         "createdAt": 1534856225985,
         "modifiedAt": 1534856225985
        },
        "billingAddress": {
         "firstName": "Max",
         "lastName": "Muster",
         "street": "Musterweg",
         "houseNumber": "1",
         "city": "Musterhausen",
         "zip": "12345",
         "country": "DE",
         "state": "Bayern",
         "phone": "00493012345",
         "fax": "00493012345",
         "mobile": "00493012345",
         "title": "Prof. Dr.",
         "additionalDetails": "premium buyer",
         "addressId": "address_pmpfmqbrhq",
         "createdAt": 1534856225566,
         "modifiedAt": 1534856225566
        },
        "shippingAddress": {
         "firstName": "Max",
         "lastName": "Muster",
         "street": "Musterweg",
         "houseNumber": "1",
         "city": "Musterhausen",
         "zip": "12345",
         "country": "DE",
         "state": "Bayern",
         "phone": "00493012345",
         "fax": "00493012345",
         "mobile": "00493012345",
         "title": "Prof. Dr.",
         "additionalDetails": "premium buyer",
         "addressId": "address_pmpfmqbrhq",
         "createdAt": 1534856225566,
         "modifiedAt": 1534856225566
        },
        "ipAddress": "82.120.21.79",
        "paymentInstrument": {
         "createdAt": 1534959146280,
         "modifiedAt": 1534959146280,
         "paymentInstrumentId": "paymentinstrument_juz0k0agpa",
         "merchantPaymentInstrumentId": null,
         "attributes": null,
         "encrypted": false,
         "origin": "sofort",
         "type": "sepa",
         "recurring": false
        },
        "transactions": ["transaction_iwyuo0f6tx"],
        "status": "OPEN",
        "channel": "ECOM",
        "source": "Postman Test",
        "settled": false,
        "settlementDate": null,
        "allowedProducts": [],
        "product": "sofort",
        "transactionType": "DEBIT",
        "meta": null,
        "async": null,
        "deviceIdent": null,
        "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4",
        "redirectUrl": "https://public-api-app54te.psp.cardtech.de/order/sofort/1.0/redirect/transaction_iwyuo0f6tx"
       },
       "parentTransaction": null,
       "transactions": null,
       "basket": [{
        "id": "Article-a8c729ec-2884-442e-90cf-7d24f8b8ba2e",
        "name": "USB-Stick",
        "articleNumber": "SW10029",
        "totalPrice": 1000,
        "totalPriceWithTax": 1190,
        "unitPrice": 100,
        "unitPriceWithTax": 119,
        "quantity": 10,
        "tax": 19,
        "discount": null
       }],
       "providerCode": null,
       "merchantMessage": null,
       "customerMessage": null,
       "descriptor": null,
       "meta": null,
       "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4"
      },
      "newObject": {
       "createdAt": 1534959146317,
       "modifiedAt": 1534959146528,
       "type": "DEBIT",
       "transactionId": "transaction_iwyuo0f6tx",
       "description": "test transaction",
       "initialAmount": 1190,
       "refundedAmount": 0,
       "currency": "EUR",
       "status": "IN_PROGRESS",
       "order": {
        "createdAt": 1534959146283,
        "modifiedAt": 1534959146537,
        "merchantId": "merchant_0aayx2msk6",
        "terms": 1468590412476,
        "privacy": 1468590412476,
        "orderId": "kx1o5nhwwd",
        "merchantOrderId": "fUHM2c3BgF",
        "paymentProviderTransactionId": "74766-159895-5B7D9E2A-A099",
        "description": "test transaction",
        "statementDescription": "statement description",
        "initialAmount": 1190,
        "preauthorizedAmount": 0,
        "capturedAmount": 0,
        "refundedAmount": 0,
        "canceledAmount": 0,
        "currency": "EUR",
        "basket": [{
         "id": "Article-a8c729ec-2884-442e-90cf-7d24f8b8ba2e",
         "name": "USB-Stick",
         "articleNumber": "SW10029",
         "totalPrice": 1000,
         "totalPriceWithTax": 1190,
         "unitPrice": 100,
         "unitPriceWithTax": 119,
         "quantity": 10,
         "tax": 19,
         "discount": null
        }],
        "customer": {
         "merchantCustomerId": "OHXvaW0ZEA",
         "email": "alekapkcnj@payengine-test.de",
         "customerId": "customer_v8uilepnoc",
         "addresses": [{
          "firstName": "Max",
          "lastName": "Muster",
          "street": "Musterweg",
          "houseNumber": "1",
          "city": "Musterhausen",
          "zip": "12345",
          "country": "DE",
          "state": "Bayern",
          "phone": "00493012345",
          "fax": "00493012345",
          "mobile": "00493012345",
          "title": "Prof. Dr.",
          "additionalDetails": "premium buyer",
          "addressId": "address_pmpfmqbrhq",
          "createdAt": 1534856225566,
          "modifiedAt": 1534856225566
         }],
         "personas": [{
          "personaId": "persona_sbeocysetl",
          "firstName": "Max",
          "lastName": "Muster",
          "phone": "00493012345",
          "mobile": "00493012345",
          "fax": "00493012345",
          "birthday": 358293600000,
          "gender": "MALE",
          "title": "Prof. Dr.",
          "createdAt": 1534856225985,
          "modifiedAt": 1534856225985
         }],
         "paymentInstruments": [{
          "createdAt": 1534959146280,
          "modifiedAt": 1534959146280,
          "paymentInstrumentId": "paymentinstrument_juz0k0agpa",
          "merchantPaymentInstrumentId": null,
          "attributes": null,
          "encrypted": false,
          "origin": "sofort",
          "type": "sepa",
          "recurring": false
         }],
         "createdAt": 1534959144250,
         "modifiedAt": 1534959144250
        },
        "persona": {
         "personaId": "persona_sbeocysetl",
         "firstName": "Max",
         "lastName": "Muster",
         "phone": "00493012345",
         "mobile": "00493012345",
         "fax": "00493012345",
         "birthday": 358293600000,
         "gender": "MALE",
         "title": "Prof. Dr.",
         "createdAt": 1534856225985,
         "modifiedAt": 1534856225985
        },
        "billingAddress": {
         "firstName": "Max",
         "lastName": "Muster",
         "street": "Musterweg",
         "houseNumber": "1",
         "city": "Musterhausen",
         "zip": "12345",
         "country": "DE",
         "state": "Bayern",
         "phone": "00493012345",
         "fax": "00493012345",
         "mobile": "00493012345",
         "title": "Prof. Dr.",
         "additionalDetails": "premium buyer",
         "addressId": "address_pmpfmqbrhq",
         "createdAt": 1534856225566,
         "modifiedAt": 1534856225566
        },
        "shippingAddress": {
         "firstName": "Max",
         "lastName": "Muster",
         "street": "Musterweg",
         "houseNumber": "1",
         "city": "Musterhausen",
         "zip": "12345",
         "country": "DE",
         "state": "Bayern",
         "phone": "00493012345",
         "fax": "00493012345",
         "mobile": "00493012345",
         "title": "Prof. Dr.",
         "additionalDetails": "premium buyer",
         "addressId": "address_pmpfmqbrhq",
         "createdAt": 1534856225566,
         "modifiedAt": 1534856225566
        },
        "ipAddress": "82.120.21.79",
        "paymentInstrument": {
         "createdAt": 1534959146280,
         "modifiedAt": 1534959146280,
         "paymentInstrumentId": "paymentinstrument_juz0k0agpa",
         "merchantPaymentInstrumentId": null,
         "attributes": null,
         "encrypted": false,
         "origin": "sofort",
         "type": "sepa",
         "recurring": false
        },
        "transactions": ["transaction_iwyuo0f6tx"],
        "status": "OPEN",
        "channel": "ECOM",
        "source": "Postman Test",
        "settled": false,
        "settlementDate": null,
        "allowedProducts": [],
        "product": "sofort",
        "transactionType": "DEBIT",
        "meta": null,
        "async": null,
        "deviceIdent": null,
        "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4",
        "redirectUrl": "https://public-api-app54te.psp.cardtech.de/order/sofort/1.0/redirect/transaction_iwyuo0f6tx"
       },
       "parentTransaction": null,
       "transactions": null,
       "basket": [{
        "id": "Article-a8c729ec-2884-442e-90cf-7d24f8b8ba2e",
        "name": "USB-Stick",
        "articleNumber": "SW10029",
        "totalPrice": 1000,
        "totalPriceWithTax": 1190,
        "unitPrice": 100,
        "unitPriceWithTax": 119,
        "quantity": 10,
        "tax": 19,
        "discount": null
       }],
       "providerCode": null,
       "merchantMessage": null,
       "customerMessage": null,
       "descriptor": null,
       "meta": null,
       "asyncNotificationSubscriptionId": "140d5c25-952f-419d-afdb-71f91ef8cfe4"
      },
      "diff": [{
       "key": "status",
       "source": "PENDING",
       "target": "IN_PROGRESS"
      }]
      },
      "eventId": "68e67eb8-4649-4b60-b52c-06e156091154",
      "apiVersion": "v1",
      "ipAddress": "192.168.204.5",
      "globalTrackId": "W32eNrvUr-HQC74YV3ySBQAAAAU",
      "mode": "test",
      "type": "transaction.update.success",
      "notificationId": "notification_y6hfkz0dtm"
      }}
          </code>
        </div>
      </div>
    </div>
  </div>
  <br/>
  <h3 id="subscriptionViaAPI2">Subscription via API</h3>
  <br/>
  <br/>
  <p>The following parameters are required in the <em>async.notification</em> object to subscribe to a Notification version 1.0 via API requests.</p>
  <br/>
  <br/>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th  >Parameter</th>
        <th  >Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>notificationUrn</td>
        <td>
          <p>The URN to which the notification should be sent to.</p><br/>
          <p>Number of notification URNs, which can be specified when setting up notifications via API, is limited to 8.</p><br/>
          <p>There are three options for the type of specified notification URNs:</p><br/>
          <ul>
            <li>Notification URNs to be specified only as URLs with an upper limit of eight URLs.</li>
            <li>Notification URNs to be specified only as email addresses with an upper limit of eight emails.</li>
            <li>Notification URNs to be specified as a combination of URLs and email addresses with a combined upper limit of eight URLs and emails.</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td>notificationState</td>
        <td>
          <p>The status update events the notifications for the corresponding order should be subscribed for.</p><br/>
          <p>Supported values: CREATED, UPDATED</p><br/>
          <table class="table table-bordered table-striped table-condensed">
              <tbody>
                <tr>
                  <td style="border-right: none;" ><img class="" src="/img/3dsecure/exclamation.png" width="16px"></td>
                  <td>
                    <p>You can subscribe <strong>for transaction events on order level only</strong>. Therefore, once subscribed you will continue to receive notifications for selected transaction events until the order reaches its end state.</p>
                  </td>
                </tr>
              </tbody>
            </table>
        </td>
      </tr>
    </tbody>
  </table>
  <br/>
  <br/>
  <div class="example-box-wrapper">
    <div class="content-box" ng-init="createCustomerResponseShow=false">
      <h3 class="content-box-header bg-default">
          Sample v1.0 async.notifications object
          <div class="header-buttons-separator">
              <a href class="icon-separator toggle-button" ng-click="createCustomerResponseShow!=createCustomerResponseShow; console.log(createCustomerResponseShow)">
                <!-- <i class="glyph-icon icon-chevron-up"></i> -->
                <i class="glyph-icon icon-chevron-up" ng-if="createCustomerResponseShow"></i>
                <i class="glyph-icon icon-chevron-down" ng-if="!createCustomerResponseShow"></i>
              </a>
          </div>
      </h3>
      <!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
      <div class="content-box-wrapper">
        <code>
"async": {
  "successUrl": "https://a.success.url",
  "failureUrl": "https://a.callback.url",
  "cancelUrl": "https://a.cancel.url",
  "notifications":
  [
      {
          "notificationUrn":"https://a.callback.url",
          "notificationState": ["CREATED","UPDATED"]
      },
      {
          "notificationUrn": "mailto:some@email.address",
          "notificationState": ["CREATED"]
      }
  ]
}
        </code>
      </div>
    </div>
  </div>
  <br/>
  <br/>
  <table class="table table-bordered table-striped table-condensed">
    <tbody>
      <tr>
        <td style="border-right: none;" ><img class="" src="/img/3dsecure/exclamation.png" width="16px"></td>
        <td>
          <p>The URN (URL and/or email) transmitted via API overwrites the URNs set up in the MC.</p>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<br/>
<div id="notificationsVersion2">
  <br/>
  <h2>Notifications Version 2.0</h2>
  <br/>
  <h3 id="events2">Events</h3>
  <br/>
  <p>The following table lists all supported events, grouped by category, and specifies which events are available through which channel.</p>
  <br/>
  <table class="table table-bordered table-striped table-condensed">
      <thead>
        <tr>
          <th  >Category</th>
          <th  >Event</th>
          <th  >Transaction Type</th>
          <th>Status</th>
          <th>Webhook</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Transaction</td>
          <td>trx.preauth.pending</td>
          <td>PREAUTH</td>
          <td>PENDING</td>
          <td>yes</td>
          <td>no</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.preauth.success</td>
          <td>PREAUTH</td>
          <td>OK</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.preauth.failure</td>
          <td>PREAUTH</td>
          <td>FAILURE,<br/> ABORTED,<br/> DECLINED,<br/> EXPIRED</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.cancel.initiated</td>
          <td>CANCEL</td>
          <td>OK</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.cancel.success</td>
          <td>CANCEL</td>
          <td>SUCCESS</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.cancel.failure</td>
          <td>CANCEL</td>
          <td>FAILURE,<br/> DECLINED</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.debit.pending</td>
          <td>DEBIT</td>
          <td>PENDING</td>
          <td>yes</td>
          <td>no</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.debit.initiated</td>
          <td>DEBIT</td>
          <td>OK</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.debit.success</td>
          <td>DEBIT</td>
          <td>SUCCESS</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.debit.failure</td>
          <td>DEBIT</td>
          <td>FAILURE,<br/> ABORTED,<br/> DECLINED,<br/> EXPIRED</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.capture.initiated</td>
          <td>CAPTURE</td>
          <td>OK</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.capture.success</td>
          <td>CAPTURE</td>
          <td>SUCCESS</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.capture.failure</td>
          <td>CAPTURE</td>
          <td>FAILURE,<br/> DECLINED,<br/> EXPIRED</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.refund.initiated</td>
          <td>REFUND</td>
          <td>OK</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.refund.success</td>
          <td>REFUND</td>
          <td>SUCCESS</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.refund.failure</td>
          <td>REFUND</td>
          <td>FAILURE,<br/> DECLINED</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.credit.initiated</td>
          <td>CREDIT</td>
          <td>OK</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.credit.success</td>
          <td>REFUND</td>
          <td>CREDIT</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>Transaction</td>
          <td>trx.credit.failure</td>
          <td>CREDIT</td>
          <td>FAILURE,<br/> ABORTED, <br/>DECLINED</td>
          <td>yes</td>
          <td>yes</td>
        </tr>
        <tr>
          <td>3DS</td>
          <td>3ds.result</td>
          <td> - </td>
          <td> - </td>
          <td>yes</td>
          <td>no</td>
        </tr>
      </tbody>
    </table>
    <br/>
    <h3 id="format2">Format</h3>
    <br/>
    <h4 id="webhook2">Webhook</h4>
    <br/>
    <p>All notifications will be in a JSON format. The parameter depends on the notification category.</p>
    <br/>
    <div class="example-box-wrapper">
        <div class="content-box" ng-init="createCustomerResponseShow=false">
          <h3 class="content-box-header bg-default">
              Sample v2.0 notification
              <div class="header-buttons-separator">
                  <a href class="icon-separator toggle-button" ng-click="createCustomerResponseShow!=createCustomerResponseShow; console.log(createCustomerResponseShow)">
                    <!-- <i class="glyph-icon icon-chevron-up"></i> -->
                    <i class="glyph-icon icon-chevron-up" ng-if="createCustomerResponseShow"></i>
                    <i class="glyph-icon icon-chevron-down" ng-if="!createCustomerResponseShow"></i>
                  </a>
              </div>
          </h3>
          <!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
          <div class="content-box-wrapper">
            <code>
                {
                  "notificationApiVersion": "2.0",
                  "notificationId": "notification_ewnozkeo6z",
                  "globalTrackId": "XLg5rFkDCps-XAAa-qpMuwAAAAQ",
                  "eventType": "trx.debit.success",
                  "createdAt": 1555577260745,
                  "merchantId": "merchant_njtz6vixd4",
                  "transactionId": "transaction_eyn7mnrpkf",
                  "transactionAmount": 1190,
                  "currency": "EUR",
                  "order": {
                    "orderId": "jow94tbrwj",
                    "merchantOrderId": "merchantOrderId_49489392",
                    "orderAmount": 1190,
                    "canceledAmount": 0,
                    "capturedAmount": 1190,
                    "refundedAmount": 0,
                    "preauthorizedAmount": 1190,
                    "product": "paypal",
                    "statementDescription": "statement description"
                   },
                   "paymentInstrumentId": "paymentinstrument_sit9uglw7r",
                   "customerId": "customer_bwi58ijnvk",
                   "personaId": "persona_rn4v36hyol",
                   "billingAddressId": null,
                   "shippingAddressId": null,
                   "redirectUrl": null,
                   "providerCode": null,
                   "merchantMessage": null,
                   "customerMessage": null,
                }

            </code>
          </div>
        </div>
      </div>
  <br/>
  <br/>
  <h5 id="transactionParameter2">Transaction Parameter</h5>
  <br/>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th  >Parameter</th>
        <th  >Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>notificationApiVersion</td>
        <td>Version of the notification service, always set to "2.0"</td>
      </tr>
      <tr>
        <td>notificationId</td>
        <td>Payengine notification identifier</td>
      </tr>
      <tr>
        <td>globalTrackId</td>
        <td>Payengine global tracking ID (for debugging)</td>
      </tr>
      <tr>
        <td>eventType</td>
        <td>Type of the event, for example <em>trx.debit.success</em></td>
      </tr>
      <tr>
        <td>createdAt</td>
        <td>Timestamp of the event</td>
      </tr>
      <tr>
        <td>merchantId</td>
        <td>Payengine <em>merchantId</em></td>
      </tr>
      <tr>
        <td>transactionId</td>
        <td>Payengine <em>transactionId</em></td>
      </tr>
      <tr>
        <td>transactionAmount</td>
        <td>Amount of the transaction event</td>
      </tr>
      <tr>
        <td>currency</td>
        <td>Currency code</td>
      </tr>
      <tr>
        <td>order</td>
        <td>Object containing details of the corresponding order</td>
      </tr>
      <tr>
        <td>order.orderId</td>
        <td>Payengine <em>orderId</em></td>
      </tr>
      <tr>
        <td>order.merchantOrderId</td>
        <td>Merchant order reference</td>
      </tr>
      <tr>
        <td>order.orderAmount</td>
        <td>Total amount of the order</td>
      </tr>
      <tr>
        <td>order.canceledAmount</td>
        <td>Amount already canceled</td>
      </tr>
      <tr>
        <td>order.capturedAmount</td>
        <td>Amount already canceled</td>
      </tr>
      <tr>
        <td>order.refundedAmount</td>
        <td>Amount already canceled</td>
      </tr>
      <tr>
        <td>order.product</td>
        <td>Payment product, for example, cardscreditcard, SEPA, Paypal.</td>
      </tr>
      <tr>
        <td>order.statementDescription</td>
        <td>statement descriptor</td>
      </tr>
      <tr>
        <td>paymentInstrumentId</td>
        <td>Payengine paymentInstrumentId referencing the tokenized payment credentials</td>
      </tr>
      <tr>
        <td>customerId</td>
        <td>Payengine customerId referencing the corresponding customer data</td>
      </tr>
      <tr>
        <td>personaId</td>
        <td>Payengine personaId referencing the corresponding persona data</td>
      </tr>
      <tr>
        <td>billingAddressId</td>
        <td>Payengine billingAddressId referencing the corresponding billing address data</td>
      </tr>
      <tr>
        <td>shippingAddressId</td>
        <td>Payengine shippingAddressId referencing the corresponding shipping address data</td>
      </tr>
      <tr>
        <td>redirectUrl</td>
        <td>Redirect URL in case of asynchronous payment transactions</td>
      </tr>
      <tr>
        <td>providerCode</td>
        <td>Code from external provider</td>
      </tr>
      <tr>
        <td>merchantMessage</td>
        <td>Message for merchant from external provider</td>
      </tr>
      <tr>
        <td>customerMessage</td>
        <td>Message for customer from external provider</td>
      </tr>
    </tbody>
  </table>
  <br/>
  <br/>
  <h5 id="3DSParameter2">3DS Parameter</h5>
  <br/>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th  >Parameter</th>
        <th  >Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>notificationApiVersion</td>
        <td>Version of the notification service, always set to "2.0"</td>
      </tr>
      <tr>
        <td>notificationId</td>
        <td>Payengine notification identifier</td>
      </tr>
      <tr>
        <td>globalTrackId</td>
        <td>Payengine global tracking ID (for debugging)</td>
      </tr>
      <tr>
        <td>eventType</td>
        <td>type of the event, for example <em>trx.debit.success</em></td>
      </tr>
      <tr>
        <td>createdAt</td>
        <td>timestamp of the event</td>
      </tr>
      <tr>
        <td>merchantId</td>
        <td>Payengine <em>merchantId</em></td>
      </tr>
      <tr>
        <td>threeAuthenticationId</td>
        <td>Identifier of the 3DS authentication transaction generated by the Payengine if the transaction was triggered through a dedicated authentication service</td>
      </tr>
      <tr>
        <td>orderData</td>
        <td>Order object in case the authentication was triggered as part of an order</td>
      </tr>
      <tr>
        <td>orderData.transactionId</td>
        <td>Payengine <em>transactionId</em></td>
      </tr>
      <tr>
        <td>orderData.orderId</td>
        <td>Payengine <em>orderId</em></td>
      </tr>
      <tr>
        <td>orderData.merchantOrderId</td>
        <td>Merchant order reference</td>
      </tr>
      <tr>
        <td>authenticationResult</td>
        <td>Object containing the result of the 3DS authentication transaction (final results will be available only in case of frictionless flow)</td>
      </tr>
      <tr>
        <td>authenticationResult.version</td>
        <td>Parameter indicating the version of the 3DS<br/>
            1.0 or 2.0
        </td>
      </tr>
      <tr>
        <td>authenticationResult.status</td>
        <td>
            Enum:"Y" "N" "A" "U" "R"<br/><br/>
            Indicates whether a transaction qualifies as an authenticated transaction or account verification.<br/><br/>
            Y = authentication successful<br/>
            N = not authenticated; transaction denied<br/>
            U = authentication could not be performed; technical or other problem<br/>
            A = attempts processing performed; not attempted<br/>
            R = authentication rejected; issuer is rejecting<br/>
        </td>
      </tr>
      <tr>
        <td>authenticationResult.transactionId</td>
        <td>The transaction identifier from the 3DS authentication 3DS 1.0: This will be the XID 3DS 2.0: This will be the threeDSServerTransID</td>
      </tr>
      <tr>
        <td>authenticationResult.authenticationValue</td>
        <td>The authenticationValue returned in the 3DS authentication CAVV: Visa, AMEX, JCB, Diners/Discover UCAF: Mastercard</td>
      </tr>
      <tr>
        <td>authenticationResult.eci</td>
        <td>The Electronic Commerce Indicator (ECI) provided by the ACS or DS to indicate the results of the attempt to authenticate the cardholder. The ECI values might differ depending on the card scheme. Please check the separate ECI mapping table for complete values and information about the liability shift.</td>
      </tr>
      <tr>
        <td>authenticationResult.errorDetails</td>
        <td>	Object containing error information in case of error</td>
      </tr>
      <tr>
        <td>authenticationResult.errorDetails.providerCode</td>
        <td>Original error code from the 3DS server or MPI</td>
      </tr>
      <tr>
        <td>authenticationResult.errorDetails.providerMessage</td>
        <td>Original error message from the 3DS server or MPI</td>
      </tr>
      <tr>
        <td>type</td>
        <td>
            Enum:"PAYMENT_TRANSACTION" "RECURRING_TRANSACTION" "RECURRING_CARDCHECK""ADD_CARD"<br/><br/>
            The type of the authentication requested.<br/>
            <ul>
              <li>PAYMENT_TRANSACTION: authentication with payment; the authentication is used for a normal payment transaction,</li>
              <li>RECURRING_TRANSACTION: authentication with payment; the authentication is used for an initial recurring payment transaction</li>
              <li>RECURRING_CARDCHECK: authentication without payment; the authentication is used for a card check representing the initial recurring payment transaction,</li>
              <li>ADD_CARD: authentication without payment; the authentication is only used for the verification of stored card credentials, e.g. within a wallet</li>
            </ul>
        </td>
      </tr>
      <tr>
        <td>paymentInstrumentId</td>
        <td>Identifier of the payment instrument used for the 3DS authentication.</td>
      </tr>
    </tbody>
  </table>
  <br/>
  <br/>
  <h5 id="email2">Email</h5>
  <br/>
  <p>The email notification should include a pre-defined set of parameters, limited to the most relevant parameters.</p>
  <br/>
  <p><strong>NOTE</strong> Currenlty only transaction - related events are supported.</p>
  <br/>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th  >Parameter</th>
        <th  >Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Status</td>
        <td>Event type status</td>
      </tr>
      <tr>
        <td>Timestamp</td>
        <td>Timestamp of the transaction update</td>
      </tr>
      <tr>
        <td>Merchant ID</td>
        <td>Payengine merchant identifier</td>
      </tr>
      <tr>
        <td>Order ID</td>
        <td>Payengine <em>orderId</em></td>
      </tr>
      <tr>
        <td>Transaction ID</td>
        <td>Payengine transactionId for this event</td>
      </tr>
      <tr>
        <td>Merchant Order ID</td>
        <td>Merchant order reference</td>
      </tr>
      <tr>
        <td>Order Amount</td>
        <td>Order amount</td>
      </tr>
      <tr>
        <td>Currency</td>
        <td>Currency of the order</td>
      </tr>
      <tr>
        <td>Transaction Amount</td>
        <td>Transaction amount for the transaction status,<br/>might fully match the order amount</td>
      </tr>
      <tr>
        <td>Payment Method</td>
        <td>The method used for the transaction, for example, Paypal, a card, etc.</td>
      </tr>
      <tr>
        <td>Merchant Customer ID</td>
        <td>Merchant identifier for customer</td>
      </tr>
      <tr>
        <td>Customer Email</td>
        <td>Customer Email</td>
      </tr>
      <tr>
        <td>Customer First Name</td>
        <td>Customer First Name</td>
      </tr>
      <tr>
        <td>Customer Last Name</td>
        <td>Customer Last Name</td>
      </tr>
      <tr>
        <td>Provider Code</td>
        <td>Code from external provider</td>
      </tr>
      <tr>
        <td>Provider Message</td>
        <td>Message from external provider</td>
      </tr>
      <tr>
        <td>Global Tracking ID</td>
        <td>PE globalTrackId, can be used for troubleshooting</td>
      </tr>
    </tbody>
  </table>
  <br/>
  <br/>
  <p><strong>Semple:</strong></p>
  <br/>
  <img src="/img/notififications/notification-semple.png" width="50%">
  <br/>
  <br/>
  <h3 id="subscriptionViaAPI3">Subscription via API</h3>
  <br/>
  <p>The following parameters are required in the <em>async.notification</em> object to subscribe to a Notification version 2.0 via API requests.</p>
  <br/>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th  >Parameter</th>
        <th  >Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>notificationUrn</td>
        <td>
            The URN to which the notification should be sent to.<br/><br/>
            Number of notification URNs, which can be specified when setting up notifications via API, is limited to 8.<br/><br/>
            There are three options for the type of specified notification URNs:<br/><br/>
            <ul>
              <li>Notification URNs to be specified only as URLs with an upper limit of eight URLs.</li>
              <li>Notification URNs to be specified only as email addresses with an upper limit of eight emails.</li>
              <li>Notification URNs to be specified as a combination of URLs and email addresses with a combined upper limit of eight URLs and emails.</li>
            </ul>
        </td>
      </tr>
      <tr>
        <td>notificationVersion</td>
        <td>1.0 or 2.0<br/><br/>
            In case the <em>notificationVersion</em> is not provided automatically, version 1.0 should be used for the notifications</td>
      </tr>
      <tr>
        <td>notificationEvent</td>
        <td>
            Supported values: see the values from Events abovesection.<br/><br/>
            Integrators should explicitly specify the events they are interested in rather than wildcard everything.<br/><br/>
            <strong>NOTE:</strong> Only the events that are supported for the corresponding transaction type should be raised as a notification. The others should be ignored.
        </td>
      </tr>
    </tbody>
  </table>
  <br/>
  <p><strong>NOTE:</strong> The <em>notificationState</em> should not be used anymore for vervion 2.0.</p>
  <br/>
  <br/>
  <div class="example-box-wrapper">
      <div class="content-box" ng-init="createCustomerResponseShow=false">
        <h3 class="content-box-header bg-default">
            Sample v2.0 async.notifications object
            <div class="header-buttons-separator">
                <a href class="icon-separator toggle-button" ng-click="createCustomerResponseShow!=createCustomerResponseShow; console.log(createCustomerResponseShow)">
                  <!-- <i class="glyph-icon icon-chevron-up"></i> -->
                  <i class="glyph-icon icon-chevron-up" ng-if="createCustomerResponseShow"></i>
                  <i class="glyph-icon icon-chevron-down" ng-if="!createCustomerResponseShow"></i>
                </a>
            </div>
        </h3>
        <!-- <div class="content-box-wrapper" ng-if="createCustomerRequestShow"> -->
        <div class="content-box-wrapper">
          <code>
              "async": {
                ...
                "notifications": [
                  {
                    "notificationUrn": "https://a.callback.url",
                    "notificationVersion": "2.0"
                    "notificationEvent": ["3ds.result"]
                  }
                ]
              }
          </code>
        </div>
      </div>
    </div>
  </div>
</div>
</div>


